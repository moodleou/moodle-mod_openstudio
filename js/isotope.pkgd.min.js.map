{"version":3,"file":"isotope.pkgd.min.js","sources":["../src/isotope.pkgd.js"],"sourcesContent":["/*!\n * Isotope PACKAGED v3.0.4\n *\n * Licensed GPLv3 for open source use\n * or Isotope Commercial License for commercial use\n *\n * http://isotope.metafizzy.co\n * Copyright 2017 Metafizzy\n */\n\n/**\n * Bridget makes jQuery widgets\n * v2.0.1\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n    // universal module definition\n  /*jshint strict: false */ /* globals define, module, require */\n    if ( typeof define == 'function' && define.amd ) {\n        // AMD\n        define( 'jquery-bridget/jquery-bridget',[ 'jquery' ], function( jQuery ) {\n            return factory( window, jQuery );\n        });\n    } else if ( typeof module == 'object' && module.exports ) {\n        // CommonJS\n        module.exports = factory(\n            window,\n            require('jquery')\n        );\n    } else {\n        // browser global\n        window.jQueryBridget = factory(\n            window,\n            window.jQuery\n        );\n    }\n\n}( window, function factory( window, jQuery ) {\n    'use strict';\n\n// ----- utils ----- //\n\n    var arraySlice = Array.prototype.slice;\n\n// helper function for logging errors\n// $.error breaks jQuery chaining\n    var console = window.console;\n    var logError = typeof console == 'undefined' ? function() {} :\n        function( message ) {\n            console.error( message );\n        };\n\n// ----- jQueryBridget ----- //\n\n    function jQueryBridget( namespace, PluginClass, $ ) {\n        $ = $ || jQuery || window.jQuery;\n        if ( !$ ) {\n            return;\n        }\n\n        // add option method -> $().plugin('option', {...})\n        if ( !PluginClass.prototype.option ) {\n            // option setter\n            PluginClass.prototype.option = function( opts ) {\n                // bail out if not an object\n                if ( !$.isPlainObject( opts ) ){\n                    return;\n                }\n                this.options = $.extend( true, this.options, opts );\n            };\n        }\n\n        // make jQuery plugin\n        $.fn[ namespace ] = function( arg0 /*, arg1 */ ) {\n            if ( typeof arg0 == 'string' ) {\n                // method call $().plugin( 'methodName', { options } )\n                // shift arguments by 1\n                var args = arraySlice.call( arguments, 1 );\n                return methodCall( this, arg0, args );\n            }\n            // just $().plugin({ options })\n            plainCall( this, arg0 );\n            return this;\n        };\n\n        // $().plugin('methodName')\n        function methodCall( $elems, methodName, args ) {\n            var returnValue;\n            var pluginMethodStr = '$().' + namespace + '(\"' + methodName + '\")';\n\n            $elems.each( function( i, elem ) {\n                // get instance\n                var instance = $.data( elem, namespace );\n                if ( !instance ) {\n                    logError( namespace + ' not initialized. Cannot call methods, i.e. ' +\n                        pluginMethodStr );\n                    return;\n                }\n\n                var method = instance[ methodName ];\n                if ( !method || methodName.charAt(0) == '_' ) {\n                    logError( pluginMethodStr + ' is not a valid method' );\n                    return;\n                }\n\n                // apply method, get return value\n                var value = method.apply( instance, args );\n                // set return value if value is returned, use only first value\n                returnValue = returnValue === undefined ? value : returnValue;\n            });\n\n            return returnValue !== undefined ? returnValue : $elems;\n        }\n\n        function plainCall( $elems, options ) {\n            $elems.each( function( i, elem ) {\n                var instance = $.data( elem, namespace );\n                if ( instance ) {\n                    // set options & init\n                    instance.option( options );\n                    instance._init();\n                } else {\n                    // initialize new instance\n                    instance = new PluginClass( elem, options );\n                    $.data( elem, namespace, instance );\n                }\n            });\n        }\n\n        updateJQuery( $ );\n\n    }\n\n// ----- updateJQuery ----- //\n\n// set $.bridget for v1 backwards compatibility\n    function updateJQuery( $ ) {\n        if ( !$ || ( $ && $.bridget ) ) {\n            return;\n        }\n        $.bridget = jQueryBridget;\n    }\n\n    updateJQuery( jQuery || window.jQuery );\n\n// -----  ----- //\n\n    return jQueryBridget;\n\n}));\n\n/**\n * EvEmitter v1.0.3\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n    // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n    if ( typeof define == 'function' && define.amd ) {\n        // AMD - RequireJS\n        define( 'ev-emitter/ev-emitter',factory );\n    } else if ( typeof module == 'object' && module.exports ) {\n        // CommonJS - Browserify, Webpack\n        module.exports = factory();\n    } else {\n        // Browser globals\n        global.EvEmitter = factory();\n    }\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\n\n    function EvEmitter() {}\n\n    var proto = EvEmitter.prototype;\n\n    proto.on = function( eventName, listener ) {\n        if ( !eventName || !listener ) {\n            return;\n        }\n        // set events hash\n        var events = this._events = this._events || {};\n        // set listeners array\n        var listeners = events[ eventName ] = events[ eventName ] || [];\n        // only add once\n        if ( listeners.indexOf( listener ) == -1 ) {\n            listeners.push( listener );\n        }\n\n        return this;\n    };\n\n    proto.once = function( eventName, listener ) {\n        if ( !eventName || !listener ) {\n            return;\n        }\n        // add event\n        this.on( eventName, listener );\n        // set once flag\n        // set onceEvents hash\n        var onceEvents = this._onceEvents = this._onceEvents || {};\n        // set onceListeners object\n        var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n        // set flag\n        onceListeners[ listener ] = true;\n\n        return this;\n    };\n\n    proto.off = function( eventName, listener ) {\n        var listeners = this._events && this._events[ eventName ];\n        if ( !listeners || !listeners.length ) {\n            return;\n        }\n        var index = listeners.indexOf( listener );\n        if ( index != -1 ) {\n            listeners.splice( index, 1 );\n        }\n\n        return this;\n    };\n\n    proto.emitEvent = function( eventName, args ) {\n        var listeners = this._events && this._events[ eventName ];\n        if ( !listeners || !listeners.length ) {\n            return;\n        }\n        var i = 0;\n        var listener = listeners[i];\n        args = args || [];\n        // once stuff\n        var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n        while ( listener ) {\n            var isOnce = onceListeners && onceListeners[ listener ];\n            if ( isOnce ) {\n                // remove listener\n                // remove before trigger to prevent recursion\n                this.off( eventName, listener );\n                // unset once flag\n                delete onceListeners[ listener ];\n            }\n            // trigger listener\n            listener.apply( this, args );\n            // get next listener\n            i += isOnce ? 0 : 1;\n            listener = listeners[i];\n        }\n\n        return this;\n    };\n\n    return EvEmitter;\n\n}));\n\n/*!\n * getSize v2.0.2\n * measure size of elements\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n/*global define: false, module: false, console: false */\n\n( function( window, factory ) {\n    'use strict';\n\n    if ( typeof define == 'function' && define.amd ) {\n        // AMD\n        define( 'get-size/get-size',[],function() {\n            return factory();\n        });\n    } else if ( typeof module == 'object' && module.exports ) {\n        // CommonJS\n        module.exports = factory();\n    } else {\n        // browser global\n        window.getSize = factory();\n    }\n\n})( window, function factory() {\n    'use strict';\n\n// -------------------------- helpers -------------------------- //\n\n// get a number from a string, not a percentage\n    function getStyleSize( value ) {\n        var num = parseFloat( value );\n        // not a percent like '100%', and a number\n        var isValid = value.indexOf('%') == -1 && !isNaN( num );\n        return isValid && num;\n    }\n\n    function noop() {}\n\n    var logError = typeof console == 'undefined' ? noop :\n        function( message ) {\n            console.error( message );\n        };\n\n// -------------------------- measurements -------------------------- //\n\n    var measurements = [\n        'paddingLeft',\n        'paddingRight',\n        'paddingTop',\n        'paddingBottom',\n        'marginLeft',\n        'marginRight',\n        'marginTop',\n        'marginBottom',\n        'borderLeftWidth',\n        'borderRightWidth',\n        'borderTopWidth',\n        'borderBottomWidth'\n    ];\n\n    var measurementsLength = measurements.length;\n\n    function getZeroSize() {\n        var size = {\n            width: 0,\n            height: 0,\n            innerWidth: 0,\n            innerHeight: 0,\n            outerWidth: 0,\n            outerHeight: 0\n        };\n        for ( var i=0; i < measurementsLength; i++ ) {\n            var measurement = measurements[i];\n            size[ measurement ] = 0;\n        }\n        return size;\n    }\n\n// -------------------------- getStyle -------------------------- //\n\n    /**\n     * getStyle, get style of element, check for Firefox bug\n     * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n     */\n    function getStyle( elem ) {\n        var style = getComputedStyle( elem );\n        if ( !style ) {\n            logError( 'Style returned ' + style +\n                '. Are you running this code in a hidden iframe on Firefox? ' +\n                'See http://bit.ly/getsizebug1' );\n        }\n        return style;\n    }\n\n// -------------------------- setup -------------------------- //\n\n    var isSetup = false;\n\n    var isBoxSizeOuter;\n\n    /**\n     * setup\n     * check isBoxSizerOuter\n     * do on first getSize() rather than on page load for Firefox bug\n     */\n    function setup() {\n        // setup once\n        if ( isSetup ) {\n            return;\n        }\n        isSetup = true;\n\n        // -------------------------- box sizing -------------------------- //\n\n        /**\n         * WebKit measures the outer-width on style.width on border-box elems\n         * IE & Firefox<29 measures the inner-width\n         */\n        var div = document.createElement('div');\n        div.style.width = '200px';\n        div.style.padding = '1px 2px 3px 4px';\n        div.style.borderStyle = 'solid';\n        div.style.borderWidth = '1px 2px 3px 4px';\n        div.style.boxSizing = 'border-box';\n\n        var body = document.body || document.documentElement;\n        body.appendChild( div );\n        var style = getStyle( div );\n\n        getSize.isBoxSizeOuter = isBoxSizeOuter = getStyleSize( style.width ) == 200;\n        body.removeChild( div );\n\n    }\n\n// -------------------------- getSize -------------------------- //\n\n    function getSize( elem ) {\n        setup();\n\n        // use querySeletor if elem is string\n        if ( typeof elem == 'string' ) {\n            elem = document.querySelector( elem );\n        }\n\n        // do not proceed on non-objects\n        if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\n            return;\n        }\n\n        var style = getStyle( elem );\n\n        // if hidden, everything is 0\n        if ( style.display == 'none' ) {\n            return getZeroSize();\n        }\n\n        var size = {};\n        size.width = elem.offsetWidth;\n        size.height = elem.offsetHeight;\n\n        var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\n\n        // get all measurements\n        for ( var i=0; i < measurementsLength; i++ ) {\n            var measurement = measurements[i];\n            var value = style[ measurement ];\n            var num = parseFloat( value );\n            // any 'auto', 'medium' value will be 0\n            size[ measurement ] = !isNaN( num ) ? num : 0;\n        }\n\n        var paddingWidth = size.paddingLeft + size.paddingRight;\n        var paddingHeight = size.paddingTop + size.paddingBottom;\n        var marginWidth = size.marginLeft + size.marginRight;\n        var marginHeight = size.marginTop + size.marginBottom;\n        var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n        var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n        var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n        // overwrite width and height if we can get it from style\n        var styleWidth = getStyleSize( style.width );\n        if ( styleWidth !== false ) {\n            size.width = styleWidth +\n                // add padding and border unless it's already including it\n                ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\n        }\n\n        var styleHeight = getStyleSize( style.height );\n        if ( styleHeight !== false ) {\n            size.height = styleHeight +\n                // add padding and border unless it's already including it\n                ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\n        }\n\n        size.innerWidth = size.width - ( paddingWidth + borderWidth );\n        size.innerHeight = size.height - ( paddingHeight + borderHeight );\n\n        size.outerWidth = size.width + marginWidth;\n        size.outerHeight = size.height + marginHeight;\n\n        return size;\n    }\n\n    return getSize;\n\n});\n\n/**\n * matchesSelector v2.0.2\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  /*global define: false, module: false */\n    'use strict';\n    // universal module definition\n    if ( typeof define == 'function' && define.amd ) {\n        // AMD\n        define( 'desandro-matches-selector/matches-selector',factory );\n    } else if ( typeof module == 'object' && module.exports ) {\n        // CommonJS\n        module.exports = factory();\n    } else {\n        // browser global\n        window.matchesSelector = factory();\n    }\n\n}( window, function factory() {\n    'use strict';\n\n    var matchesMethod = ( function() {\n        var ElemProto = window.Element.prototype;\n        // check for the standard method name first\n        if ( ElemProto.matches ) {\n            return 'matches';\n        }\n        // check un-prefixed\n        if ( ElemProto.matchesSelector ) {\n            return 'matchesSelector';\n        }\n        // check vendor prefixes\n        var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\n\n        for ( var i=0; i < prefixes.length; i++ ) {\n            var prefix = prefixes[i];\n            var method = prefix + 'MatchesSelector';\n            if ( ElemProto[ method ] ) {\n                return method;\n            }\n        }\n    })();\n\n    return function matchesSelector( elem, selector ) {\n        return elem[ matchesMethod ]( selector );\n    };\n\n}));\n\n/**\n * Fizzy UI utils v2.0.5\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n    // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n    if ( typeof define == 'function' && define.amd ) {\n        // AMD\n        define( 'fizzy-ui-utils/utils',[\n            'desandro-matches-selector/matches-selector'\n        ], function( matchesSelector ) {\n            return factory( window, matchesSelector );\n        });\n    } else if ( typeof module == 'object' && module.exports ) {\n        // CommonJS\n        module.exports = factory(\n            window,\n            require('desandro-matches-selector')\n        );\n    } else {\n        // browser global\n        window.fizzyUIUtils = factory(\n            window,\n            window.matchesSelector\n        );\n    }\n\n}( window, function factory( window, matchesSelector ) {\n\n\n\n    var utils = {};\n\n// ----- extend ----- //\n\n// extends objects\n    utils.extend = function( a, b ) {\n        for ( var prop in b ) {\n            a[ prop ] = b[ prop ];\n        }\n        return a;\n    };\n\n// ----- modulo ----- //\n\n    utils.modulo = function( num, div ) {\n        return ( ( num % div ) + div ) % div;\n    };\n\n// ----- makeArray ----- //\n\n// turn element or nodeList into an array\n    utils.makeArray = function( obj ) {\n        var ary = [];\n        if ( Array.isArray( obj ) ) {\n            // use object if already an array\n            ary = obj;\n        } else if ( obj && typeof obj == 'object' &&\n            typeof obj.length == 'number' ) {\n            // convert nodeList to array\n            for ( var i=0; i < obj.length; i++ ) {\n                ary.push( obj[i] );\n            }\n        } else {\n            // array of single index\n            ary.push( obj );\n        }\n        return ary;\n    };\n\n// ----- removeFrom ----- //\n\n    utils.removeFrom = function( ary, obj ) {\n        var index = ary.indexOf( obj );\n        if ( index != -1 ) {\n            ary.splice( index, 1 );\n        }\n    };\n\n// ----- getParent ----- //\n\n    utils.getParent = function( elem, selector ) {\n        while ( elem.parentNode && elem != document.body ) {\n            elem = elem.parentNode;\n            if ( matchesSelector( elem, selector ) ) {\n                return elem;\n            }\n        }\n    };\n\n// ----- getQueryElement ----- //\n\n// use element as selector string\n    utils.getQueryElement = function( elem ) {\n        if ( typeof elem == 'string' ) {\n            return document.querySelector( elem );\n        }\n        return elem;\n    };\n\n// ----- handleEvent ----- //\n\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\n    utils.handleEvent = function( event ) {\n        var method = 'on' + event.type;\n        if ( this[ method ] ) {\n            this[ method ]( event );\n        }\n    };\n\n// ----- filterFindElements ----- //\n\n    utils.filterFindElements = function( elems, selector ) {\n        // make array of elems\n        elems = utils.makeArray( elems );\n        var ffElems = [];\n\n        elems.forEach( function( elem ) {\n            // check that elem is an actual element\n            if ( !( elem instanceof HTMLElement ) ) {\n                return;\n            }\n            // add elem if no selector\n            if ( !selector ) {\n                ffElems.push( elem );\n                return;\n            }\n            // filter & find items if we have a selector\n            // filter\n            if ( matchesSelector( elem, selector ) ) {\n                ffElems.push( elem );\n            }\n            // find children\n            var childElems = elem.querySelectorAll( selector );\n            // concat childElems to filterFound array\n            for ( var i=0; i < childElems.length; i++ ) {\n                ffElems.push( childElems[i] );\n            }\n        });\n\n        return ffElems;\n    };\n\n// ----- debounceMethod ----- //\n\n    utils.debounceMethod = function( _class, methodName, threshold ) {\n        // original method\n        var method = _class.prototype[ methodName ];\n        var timeoutName = methodName + 'Timeout';\n\n        _class.prototype[ methodName ] = function() {\n            var timeout = this[ timeoutName ];\n            if ( timeout ) {\n                clearTimeout( timeout );\n            }\n            var args = arguments;\n\n            var _this = this;\n            this[ timeoutName ] = setTimeout( function() {\n                method.apply( _this, args );\n                delete _this[ timeoutName ];\n            }, threshold || 100 );\n        };\n    };\n\n// ----- docReady ----- //\n\n    utils.docReady = function( callback ) {\n        var readyState = document.readyState;\n        if ( readyState == 'complete' || readyState == 'interactive' ) {\n            // do async to allow for other scripts to run. metafizzy/flickity#441\n            setTimeout( callback );\n        } else {\n            document.addEventListener( 'DOMContentLoaded', callback );\n        }\n    };\n\n// ----- htmlInit ----- //\n\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\n    utils.toDashed = function( str ) {\n        return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\n            return $1 + '-' + $2;\n        }).toLowerCase();\n    };\n\n    var console = window.console;\n    /**\n     * allow user to initialize classes via [data-namespace] or .js-namespace class\n     * htmlInit( Widget, 'widgetName' )\n     * options are parsed from data-namespace-options\n     */\n    utils.htmlInit = function( WidgetClass, namespace ) {\n        utils.docReady( function() {\n            var dashedNamespace = utils.toDashed( namespace );\n            var dataAttr = 'data-' + dashedNamespace;\n            var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\n            var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\n            var elems = utils.makeArray( dataAttrElems )\n                .concat( utils.makeArray( jsDashElems ) );\n            var dataOptionsAttr = dataAttr + '-options';\n            var jQuery = window.jQuery;\n\n            elems.forEach( function( elem ) {\n                var attr = elem.getAttribute( dataAttr ) ||\n                    elem.getAttribute( dataOptionsAttr );\n                var options;\n                try {\n                    options = attr && JSON.parse( attr );\n                } catch ( error ) {\n                    // log error, do not initialize\n                    if ( console ) {\n                        console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\n                            ': ' + error );\n                    }\n                    return;\n                }\n                // initialize\n                var instance = new WidgetClass( elem, options );\n                // make available via $().data('namespace')\n                if ( jQuery ) {\n                    jQuery.data( elem, namespace, instance );\n                }\n            });\n\n        });\n    };\n\n// -----  ----- //\n\n    return utils;\n\n}));\n\n/**\n * Outlayer Item\n */\n\n( function( window, factory ) {\n    // universal module definition\n  /* jshint strict: false */ /* globals define, module, require */\n    if ( typeof define == 'function' && define.amd ) {\n        // AMD - RequireJS\n        define( 'outlayer/item',[\n                'ev-emitter/ev-emitter',\n                'get-size/get-size'\n            ],\n            factory\n        );\n    } else if ( typeof module == 'object' && module.exports ) {\n        // CommonJS - Browserify, Webpack\n        module.exports = factory(\n            require('ev-emitter'),\n            require('get-size')\n        );\n    } else {\n        // browser global\n        window.Outlayer = {};\n        window.Outlayer.Item = factory(\n            window.EvEmitter,\n            window.getSize\n        );\n    }\n\n}( window, function factory( EvEmitter, getSize ) {\n    'use strict';\n\n// ----- helpers ----- //\n\n    function isEmptyObj( obj ) {\n        for ( var prop in obj ) {\n            return false;\n        }\n        prop = null;\n        return true;\n    }\n\n// -------------------------- CSS3 support -------------------------- //\n\n\n    var docElemStyle = document.documentElement.style;\n\n    var transitionProperty = typeof docElemStyle.transition == 'string' ?\n        'transition' : 'WebkitTransition';\n    var transformProperty = typeof docElemStyle.transform == 'string' ?\n        'transform' : 'WebkitTransform';\n\n    var transitionEndEvent = {\n        WebkitTransition: 'webkitTransitionEnd',\n        transition: 'transitionend'\n    }[ transitionProperty ];\n\n// cache all vendor properties that could have vendor prefix\n    var vendorProperties = {\n        transform: transformProperty,\n        transition: transitionProperty,\n        transitionDuration: transitionProperty + 'Duration',\n        transitionProperty: transitionProperty + 'Property',\n        transitionDelay: transitionProperty + 'Delay'\n    };\n\n// -------------------------- Item -------------------------- //\n\n    function Item( element, layout ) {\n        if ( !element ) {\n            return;\n        }\n\n        this.element = element;\n        // parent layout class, i.e. Masonry, Isotope, or Packery\n        this.layout = layout;\n        this.position = {\n            x: 0,\n            y: 0\n        };\n\n        this._create();\n    }\n\n// inherit EvEmitter\n    var proto = Item.prototype = Object.create( EvEmitter.prototype );\n    proto.constructor = Item;\n\n    proto._create = function() {\n        // transition objects\n        this._transn = {\n            ingProperties: {},\n            clean: {},\n            onEnd: {}\n        };\n\n        this.css({\n            position: 'absolute'\n        });\n    };\n\n// trigger specified handler for event type\n    proto.handleEvent = function( event ) {\n        var method = 'on' + event.type;\n        if ( this[ method ] ) {\n            this[ method ]( event );\n        }\n    };\n\n    proto.getSize = function() {\n        this.size = getSize( this.element );\n    };\n\n    /**\n     * apply CSS styles to element\n     * @param {Object} style\n     */\n    proto.css = function( style ) {\n        var elemStyle = this.element.style;\n\n        for ( var prop in style ) {\n            // use vendor property if available\n            var supportedProp = vendorProperties[ prop ] || prop;\n            elemStyle[ supportedProp ] = style[ prop ];\n        }\n    };\n\n    // measure position, and sets it\n    proto.getPosition = function() {\n        var style = getComputedStyle( this.element );\n        var isOriginLeft = this.layout._getOption('originLeft');\n        var isOriginTop = this.layout._getOption('originTop');\n        var xValue = style[ isOriginLeft ? 'left' : 'right' ];\n        var yValue = style[ isOriginTop ? 'top' : 'bottom' ];\n        // convert percent to pixels\n        var layoutSize = this.layout.size;\n        var x = xValue.indexOf('%') != -1 ?\n            ( parseFloat( xValue ) / 100 ) * layoutSize.width : parseInt( xValue, 10 );\n        var y = yValue.indexOf('%') != -1 ?\n            ( parseFloat( yValue ) / 100 ) * layoutSize.height : parseInt( yValue, 10 );\n\n        // clean up 'auto' or other non-integer values\n        x = isNaN( x ) ? 0 : x;\n        y = isNaN( y ) ? 0 : y;\n        // remove padding from measurement\n        x -= isOriginLeft ? layoutSize.paddingLeft : layoutSize.paddingRight;\n        y -= isOriginTop ? layoutSize.paddingTop : layoutSize.paddingBottom;\n\n        this.position.x = x;\n        this.position.y = y;\n    };\n\n// set settled position, apply padding\n    proto.layoutPosition = function() {\n        var layoutSize = this.layout.size;\n        var style = {};\n        var isOriginLeft = this.layout._getOption('originLeft');\n        var isOriginTop = this.layout._getOption('originTop');\n\n        // x\n        var xPadding = isOriginLeft ? 'paddingLeft' : 'paddingRight';\n        var xProperty = isOriginLeft ? 'left' : 'right';\n        var xResetProperty = isOriginLeft ? 'right' : 'left';\n\n        var x = this.position.x + layoutSize[ xPadding ];\n        // set in percentage or pixels\n        style[ xProperty ] = this.getXValue( x );\n        // reset other property\n        style[ xResetProperty ] = '';\n\n        // y\n        var yPadding = isOriginTop ? 'paddingTop' : 'paddingBottom';\n        var yProperty = isOriginTop ? 'top' : 'bottom';\n        var yResetProperty = isOriginTop ? 'bottom' : 'top';\n\n        var y = this.position.y + layoutSize[ yPadding ];\n        // set in percentage or pixels\n        style[ yProperty ] = this.getYValue( y );\n        // reset other property\n        style[ yResetProperty ] = '';\n\n        this.css( style );\n        this.emitEvent( 'layout', [ this ] );\n    };\n\n    proto.getXValue = function( x ) {\n        var isHorizontal = this.layout._getOption('horizontal');\n        return this.layout.options.percentPosition && !isHorizontal ?\n            ( ( x / this.layout.size.width ) * 100 ) + '%' : x + 'px';\n    };\n\n    proto.getYValue = function( y ) {\n        var isHorizontal = this.layout._getOption('horizontal');\n        return this.layout.options.percentPosition && isHorizontal ?\n            ( ( y / this.layout.size.height ) * 100 ) + '%' : y + 'px';\n    };\n\n    proto._transitionTo = function( x, y ) {\n        this.getPosition();\n        // get current x & y from top/left\n        var curX = this.position.x;\n        var curY = this.position.y;\n\n        var compareX = parseInt( x, 10 );\n        var compareY = parseInt( y, 10 );\n        var didNotMove = compareX === this.position.x && compareY === this.position.y;\n\n        // save end position\n        this.setPosition( x, y );\n\n        // if did not move and not transitioning, just go to layout\n        if ( didNotMove && !this.isTransitioning ) {\n            this.layoutPosition();\n            return;\n        }\n\n        var transX = x - curX;\n        var transY = y - curY;\n        var transitionStyle = {};\n        transitionStyle.transform = this.getTranslate( transX, transY );\n\n        this.transition({\n            to: transitionStyle,\n            onTransitionEnd: {\n                transform: this.layoutPosition\n            },\n            isCleaning: true\n        });\n    };\n\n    proto.getTranslate = function( x, y ) {\n        // flip cooridinates if origin on right or bottom\n        var isOriginLeft = this.layout._getOption('originLeft');\n        var isOriginTop = this.layout._getOption('originTop');\n        x = isOriginLeft ? x : -x;\n        y = isOriginTop ? y : -y;\n        return 'translate3d(' + x + 'px, ' + y + 'px, 0)';\n    };\n\n// non transition + transform support\n    proto.goTo = function( x, y ) {\n        this.setPosition( x, y );\n        this.layoutPosition();\n    };\n\n    proto.moveTo = proto._transitionTo;\n\n    proto.setPosition = function( x, y ) {\n        this.position.x = parseInt( x, 10 );\n        this.position.y = parseInt( y, 10 );\n    };\n\n// ----- transition ----- //\n\n    /**\n     * @param {Object} style - CSS\n     * @param {Function} onTransitionEnd\n     */\n\n// non transition, just trigger callback\n    proto._nonTransition = function( args ) {\n        this.css( args.to );\n        if ( args.isCleaning ) {\n            this._removeStyles( args.to );\n        }\n        for ( var prop in args.onTransitionEnd ) {\n            args.onTransitionEnd[ prop ].call( this );\n        }\n    };\n\n    /**\n     * proper transition\n     * @param {Object} args - arguments\n     *   @param {Object} to - style to transition to\n     *   @param {Object} from - style to start transition from\n     *   @param {Boolean} isCleaning - removes transition styles after transition\n     *   @param {Function} onTransitionEnd - callback\n     */\n    proto.transition = function( args ) {\n        // redirect to nonTransition if no transition duration\n        if ( !parseFloat( this.layout.options.transitionDuration ) ) {\n            this._nonTransition( args );\n            return;\n        }\n\n        var _transition = this._transn;\n        // keep track of onTransitionEnd callback by css property\n        for ( var prop in args.onTransitionEnd ) {\n            _transition.onEnd[ prop ] = args.onTransitionEnd[ prop ];\n        }\n        // keep track of properties that are transitioning\n        for ( prop in args.to ) {\n            _transition.ingProperties[ prop ] = true;\n            // keep track of properties to clean up when transition is done\n            if ( args.isCleaning ) {\n                _transition.clean[ prop ] = true;\n            }\n        }\n\n        // set from styles\n        if ( args.from ) {\n            this.css( args.from );\n            // force redraw. http://blog.alexmaccaw.com/css-transitions\n            var h = this.element.offsetHeight;\n            // hack for JSHint to hush about unused var\n            h = null;\n        }\n        // enable transition\n        this.enableTransition( args.to );\n        // set styles that are transitioning\n        this.css( args.to );\n\n        this.isTransitioning = true;\n\n    };\n\n// dash before all cap letters, including first for\n// WebkitTransform => -webkit-transform\n    function toDashedAll( str ) {\n        return str.replace( /([A-Z])/g, function( $1 ) {\n            return '-' + $1.toLowerCase();\n        });\n    }\n\n    var transitionProps = 'opacity,' + toDashedAll( transformProperty );\n\n    proto.enableTransition = function(/* style */) {\n        // HACK changing transitionProperty during a transition\n        // will cause transition to jump\n        if ( this.isTransitioning ) {\n            return;\n        }\n\n        // make `transition: foo, bar, baz` from style object\n        // HACK un-comment this when enableTransition can work\n        // while a transition is happening\n        // var transitionValues = [];\n        // for ( var prop in style ) {\n        //   // dash-ify camelCased properties like WebkitTransition\n        //   prop = vendorProperties[ prop ] || prop;\n        //   transitionValues.push( toDashedAll( prop ) );\n        // }\n        // munge number to millisecond, to match stagger\n        var duration = this.layout.options.transitionDuration;\n        duration = typeof duration == 'number' ? duration + 'ms' : duration;\n        // enable transition styles\n        this.css({\n            transitionProperty: transitionProps,\n            transitionDuration: duration,\n            transitionDelay: this.staggerDelay || 0\n        });\n        // listen for transition end event\n        this.element.addEventListener( transitionEndEvent, this, false );\n    };\n\n// ----- events ----- //\n\n    proto.onwebkitTransitionEnd = function( event ) {\n        this.ontransitionend( event );\n    };\n\n    proto.onotransitionend = function( event ) {\n        this.ontransitionend( event );\n    };\n\n// properties that I munge to make my life easier\n    var dashedVendorProperties = {\n        '-webkit-transform': 'transform'\n    };\n\n    proto.ontransitionend = function( event ) {\n        // disregard bubbled events from children\n        if ( event.target !== this.element ) {\n            return;\n        }\n        var _transition = this._transn;\n        // get property name of transitioned property, convert to prefix-free\n        var propertyName = dashedVendorProperties[ event.propertyName ] || event.propertyName;\n\n        // remove property that has completed transitioning\n        delete _transition.ingProperties[ propertyName ];\n        // check if any properties are still transitioning\n        if ( isEmptyObj( _transition.ingProperties ) ) {\n            // all properties have completed transitioning\n            this.disableTransition();\n        }\n        // clean style\n        if ( propertyName in _transition.clean ) {\n            // clean up style\n            this.element.style[ event.propertyName ] = '';\n            delete _transition.clean[ propertyName ];\n        }\n        // trigger onTransitionEnd callback\n        if ( propertyName in _transition.onEnd ) {\n            var onTransitionEnd = _transition.onEnd[ propertyName ];\n            onTransitionEnd.call( this );\n            delete _transition.onEnd[ propertyName ];\n        }\n\n        this.emitEvent( 'transitionEnd', [ this ] );\n    };\n\n    proto.disableTransition = function() {\n        this.removeTransitionStyles();\n        this.element.removeEventListener( transitionEndEvent, this, false );\n        this.isTransitioning = false;\n    };\n\n    /**\n     * removes style property from element\n     * @param {Object} style\n     **/\n    proto._removeStyles = function( style ) {\n        // clean up transition styles\n        var cleanStyle = {};\n        for ( var prop in style ) {\n            cleanStyle[ prop ] = '';\n        }\n        this.css( cleanStyle );\n    };\n\n    var cleanTransitionStyle = {\n        transitionProperty: '',\n        transitionDuration: '',\n        transitionDelay: ''\n    };\n\n    proto.removeTransitionStyles = function() {\n        // remove transition\n        this.css( cleanTransitionStyle );\n    };\n\n// ----- stagger ----- //\n\n    proto.stagger = function( delay ) {\n        delay = isNaN( delay ) ? 0 : delay;\n        this.staggerDelay = delay + 'ms';\n    };\n\n// ----- show/hide/remove ----- //\n\n// remove element from DOM\n    proto.removeElem = function() {\n        this.element.parentNode.removeChild( this.element );\n        // remove display: none\n        this.css({ display: '' });\n        this.emitEvent( 'remove', [ this ] );\n    };\n\n    proto.remove = function() {\n        // just remove element if no transition support or no transition\n        if ( !transitionProperty || !parseFloat( this.layout.options.transitionDuration ) ) {\n            this.removeElem();\n            return;\n        }\n\n        // start transition\n        this.once( 'transitionEnd', function() {\n            this.removeElem();\n        });\n        this.hide();\n    };\n\n    proto.reveal = function() {\n        delete this.isHidden;\n        // remove display: none\n        this.css({ display: '' });\n\n        var options = this.layout.options;\n\n        var onTransitionEnd = {};\n        var transitionEndProperty = this.getHideRevealTransitionEndProperty('visibleStyle');\n        onTransitionEnd[ transitionEndProperty ] = this.onRevealTransitionEnd;\n\n        this.transition({\n            from: options.hiddenStyle,\n            to: options.visibleStyle,\n            isCleaning: true,\n            onTransitionEnd: onTransitionEnd\n        });\n    };\n\n    proto.onRevealTransitionEnd = function() {\n        // check if still visible\n        // during transition, item may have been hidden\n        if ( !this.isHidden ) {\n            this.emitEvent('reveal');\n        }\n    };\n\n    /**\n     * get style property use for hide/reveal transition end\n     * @param {String} styleProperty - hiddenStyle/visibleStyle\n     * @returns {String}\n     */\n    proto.getHideRevealTransitionEndProperty = function( styleProperty ) {\n        var optionStyle = this.layout.options[ styleProperty ];\n        // use opacity\n        if ( optionStyle.opacity ) {\n            return 'opacity';\n        }\n        // get first property\n        for ( var prop in optionStyle ) {\n            return prop;\n        }\n    };\n\n    proto.hide = function() {\n        // set flag\n        this.isHidden = true;\n        // remove display: none\n        this.css({ display: '' });\n\n        var options = this.layout.options;\n\n        var onTransitionEnd = {};\n        var transitionEndProperty = this.getHideRevealTransitionEndProperty('hiddenStyle');\n        onTransitionEnd[ transitionEndProperty ] = this.onHideTransitionEnd;\n\n        this.transition({\n            from: options.visibleStyle,\n            to: options.hiddenStyle,\n            // keep hidden stuff hidden\n            isCleaning: true,\n            onTransitionEnd: onTransitionEnd\n        });\n    };\n\n    proto.onHideTransitionEnd = function() {\n        // check if still hidden\n        // during transition, item may have been un-hidden\n        if ( this.isHidden ) {\n            this.css({ display: 'none' });\n            this.emitEvent('hide');\n        }\n    };\n\n    proto.destroy = function() {\n        this.css({\n            position: '',\n            left: '',\n            right: '',\n            top: '',\n            bottom: '',\n            transition: '',\n            transform: ''\n        });\n    };\n\n    return Item;\n\n}));\n\n/*!\n * Outlayer v2.1.0\n * the brains and guts of a layout library\n * MIT license\n */\n\n( function( window, factory ) {\n    'use strict';\n    // universal module definition\n  /* jshint strict: false */ /* globals define, module, require */\n    if ( typeof define == 'function' && define.amd ) {\n        // AMD - RequireJS\n        define( 'outlayer/outlayer',[\n                'ev-emitter/ev-emitter',\n                'get-size/get-size',\n                'fizzy-ui-utils/utils',\n                './item'\n            ],\n            function( EvEmitter, getSize, utils, Item ) {\n                return factory( window, EvEmitter, getSize, utils, Item);\n            }\n        );\n    } else if ( typeof module == 'object' && module.exports ) {\n        // CommonJS - Browserify, Webpack\n        module.exports = factory(\n            window,\n            require('ev-emitter'),\n            require('get-size'),\n            require('fizzy-ui-utils'),\n            require('./item')\n        );\n    } else {\n        // browser global\n        window.Outlayer = factory(\n            window,\n            window.EvEmitter,\n            window.getSize,\n            window.fizzyUIUtils,\n            window.Outlayer.Item\n        );\n    }\n\n}( window, function factory( window, EvEmitter, getSize, utils, Item ) {\n    'use strict';\n\n// ----- vars ----- //\n\n    var console = window.console;\n    var jQuery = window.jQuery;\n    var noop = function() {};\n\n// -------------------------- Outlayer -------------------------- //\n\n// globally unique identifiers\n    var GUID = 0;\n// internal store of all Outlayer intances\n    var instances = {};\n\n\n    /**\n     * @param {Element, String} element\n     * @param {Object} options\n     * @constructor\n     */\n    function Outlayer( element, options ) {\n        var queryElement = utils.getQueryElement( element );\n        if ( !queryElement ) {\n            if ( console ) {\n                console.error( 'Bad element for ' + this.constructor.namespace +\n                    ': ' + ( queryElement || element ) );\n            }\n            return;\n        }\n        this.element = queryElement;\n        // add jQuery\n        if ( jQuery ) {\n            this.$element = jQuery( this.element );\n        }\n\n        // options\n        this.options = utils.extend( {}, this.constructor.defaults );\n        this.option( options );\n\n        // add id for Outlayer.getFromElement\n        var id = ++GUID;\n        this.element.outlayerGUID = id; // expando\n        instances[ id ] = this; // associate via id\n\n        // kick it off\n        this._create();\n\n        var isInitLayout = this._getOption('initLayout');\n        if ( isInitLayout ) {\n            this.layout();\n        }\n    }\n\n// settings are for internal use only\n    Outlayer.namespace = 'outlayer';\n    Outlayer.Item = Item;\n\n// default options\n    Outlayer.defaults = {\n        containerStyle: {\n            position: 'relative'\n        },\n        initLayout: true,\n        originLeft: true,\n        originTop: true,\n        resize: true,\n        resizeContainer: true,\n        // item options\n        transitionDuration: '0.4s',\n        hiddenStyle: {\n            opacity: 0,\n            transform: 'scale(0.001)'\n        },\n        visibleStyle: {\n            opacity: 1,\n            transform: 'scale(1)'\n        }\n    };\n\n    var proto = Outlayer.prototype;\n// inherit EvEmitter\n    utils.extend( proto, EvEmitter.prototype );\n\n    /**\n     * set options\n     * @param {Object} opts\n     */\n    proto.option = function( opts ) {\n        utils.extend( this.options, opts );\n    };\n\n    /**\n     * get backwards compatible option value, check old name\n     */\n    proto._getOption = function( option ) {\n        var oldOption = this.constructor.compatOptions[ option ];\n        return oldOption && this.options[ oldOption ] !== undefined ?\n            this.options[ oldOption ] : this.options[ option ];\n    };\n\n    Outlayer.compatOptions = {\n        // currentName: oldName\n        initLayout: 'isInitLayout',\n        horizontal: 'isHorizontal',\n        layoutInstant: 'isLayoutInstant',\n        originLeft: 'isOriginLeft',\n        originTop: 'isOriginTop',\n        resize: 'isResizeBound',\n        resizeContainer: 'isResizingContainer'\n    };\n\n    proto._create = function() {\n        // get items from children\n        this.reloadItems();\n        // elements that affect layout, but are not laid out\n        this.stamps = [];\n        this.stamp( this.options.stamp );\n        // set container style\n        utils.extend( this.element.style, this.options.containerStyle );\n\n        // bind resize method\n        var canBindResize = this._getOption('resize');\n        if ( canBindResize ) {\n            this.bindResize();\n        }\n    };\n\n// goes through all children again and gets bricks in proper order\n    proto.reloadItems = function() {\n        // collection of item elements\n        this.items = this._itemize( this.element.children );\n    };\n\n\n    /**\n     * turn elements into Outlayer.Items to be used in layout\n     * @param {Array or NodeList or HTMLElement} elems\n     * @returns {Array} items - collection of new Outlayer Items\n     */\n    proto._itemize = function( elems ) {\n\n        var itemElems = this._filterFindItemElements( elems );\n        var Item = this.constructor.Item;\n\n        // create new Outlayer Items for collection\n        var items = [];\n        for ( var i=0; i < itemElems.length; i++ ) {\n            var elem = itemElems[i];\n            var item = new Item( elem, this );\n            items.push( item );\n        }\n\n        return items;\n    };\n\n    /**\n     * get item elements to be used in layout\n     * @param {Array or NodeList or HTMLElement} elems\n     * @returns {Array} items - item elements\n     */\n    proto._filterFindItemElements = function( elems ) {\n        return utils.filterFindElements( elems, this.options.itemSelector );\n    };\n\n    /**\n     * getter method for getting item elements\n     * @returns {Array} elems - collection of item elements\n     */\n    proto.getItemElements = function() {\n        return this.items.map( function( item ) {\n            return item.element;\n        });\n    };\n\n// ----- init & layout ----- //\n\n    /**\n     * lays out all items\n     */\n    proto.layout = function() {\n        this._resetLayout();\n        this._manageStamps();\n\n        // don't animate first layout\n        var layoutInstant = this._getOption('layoutInstant');\n        var isInstant = layoutInstant !== undefined ?\n            layoutInstant : !this._isLayoutInited;\n        this.layoutItems( this.items, isInstant );\n\n        // flag for initalized\n        this._isLayoutInited = true;\n    };\n\n// _init is alias for layout\n    proto._init = proto.layout;\n\n    /**\n     * logic before any new layout\n     */\n    proto._resetLayout = function() {\n        this.getSize();\n    };\n\n\n    proto.getSize = function() {\n        this.size = getSize( this.element );\n    };\n\n    /**\n     * get measurement from option, for columnWidth, rowHeight, gutter\n     * if option is String -> get element from selector string, & get size of element\n     * if option is Element -> get size of element\n     * else use option as a number\n     *\n     * @param {String} measurement\n     * @param {String} size - width or height\n     * @private\n     */\n    proto._getMeasurement = function( measurement, size ) {\n        var option = this.options[ measurement ];\n        var elem;\n        if ( !option ) {\n            // default to 0\n            this[ measurement ] = 0;\n        } else {\n            // use option as an element\n            if ( typeof option == 'string' ) {\n                elem = this.element.querySelector( option );\n            } else if ( option instanceof HTMLElement ) {\n                elem = option;\n            }\n            // use size of element, if element\n            this[ measurement ] = elem ? getSize( elem )[ size ] : option;\n        }\n    };\n\n    /**\n     * layout a collection of item elements\n     * @api public\n     */\n    proto.layoutItems = function( items, isInstant ) {\n        items = this._getItemsForLayout( items );\n\n        this._layoutItems( items, isInstant );\n\n        this._postLayout();\n    };\n\n    /**\n     * get the items to be laid out\n     * you may want to skip over some items\n     * @param {Array} items\n     * @returns {Array} items\n     */\n    proto._getItemsForLayout = function( items ) {\n        return items.filter( function( item ) {\n            return !item.isIgnored;\n        });\n    };\n\n    /**\n     * layout items\n     * @param {Array} items\n     * @param {Boolean} isInstant\n     */\n    proto._layoutItems = function( items, isInstant ) {\n        this._emitCompleteOnItems( 'layout', items );\n\n        if ( !items || !items.length ) {\n            // no items, emit event with empty array\n            return;\n        }\n\n        var queue = [];\n\n        items.forEach( function( item ) {\n            // get x/y object from method\n            var position = this._getItemLayoutPosition( item );\n            // enqueue\n            position.item = item;\n            position.isInstant = isInstant || item.isLayoutInstant;\n            queue.push( position );\n        }, this );\n\n        this._processLayoutQueue( queue );\n    };\n\n    /**\n     * get item layout position\n     * @param {Outlayer.Item} item\n     * @returns {Object} x and y position\n     */\n    proto._getItemLayoutPosition = function( /* item */ ) {\n        return {\n            x: 0,\n            y: 0\n        };\n    };\n\n    /**\n     * iterate over array and position each item\n     * Reason being - separating this logic prevents 'layout invalidation'\n     * thx @paul_irish\n     * @param {Array} queue\n     */\n    proto._processLayoutQueue = function( queue ) {\n        this.updateStagger();\n        queue.forEach( function( obj, i ) {\n            this._positionItem( obj.item, obj.x, obj.y, obj.isInstant, i );\n        }, this );\n    };\n\n// set stagger from option in milliseconds number\n    proto.updateStagger = function() {\n        var stagger = this.options.stagger;\n        if ( stagger === null || stagger === undefined ) {\n            this.stagger = 0;\n            return;\n        }\n        this.stagger = getMilliseconds( stagger );\n        return this.stagger;\n    };\n\n    /**\n     * Sets position of item in DOM\n     * @param {Outlayer.Item} item\n     * @param {Number} x - horizontal position\n     * @param {Number} y - vertical position\n     * @param {Boolean} isInstant - disables transitions\n     */\n    proto._positionItem = function( item, x, y, isInstant, i ) {\n        if ( isInstant ) {\n            // if not transition, just set CSS\n            item.goTo( x, y );\n        } else {\n            item.stagger( i * this.stagger );\n            item.moveTo( x, y );\n        }\n    };\n\n    /**\n     * Any logic you want to do after each layout,\n     * i.e. size the container\n     */\n    proto._postLayout = function() {\n        this.resizeContainer();\n    };\n\n    proto.resizeContainer = function() {\n        var isResizingContainer = this._getOption('resizeContainer');\n        if ( !isResizingContainer ) {\n            return;\n        }\n        var size = this._getContainerSize();\n        if ( size ) {\n            this._setContainerMeasure( size.width, true );\n            this._setContainerMeasure( size.height, false );\n        }\n    };\n\n    /**\n     * Sets width or height of container if returned\n     * @returns {Object} size\n     *   @param {Number} width\n     *   @param {Number} height\n     */\n    proto._getContainerSize = noop;\n\n    /**\n     * @param {Number} measure - size of width or height\n     * @param {Boolean} isWidth\n     */\n    proto._setContainerMeasure = function( measure, isWidth ) {\n        if ( measure === undefined ) {\n            return;\n        }\n\n        var elemSize = this.size;\n        // add padding and border width if border box\n        if ( elemSize.isBorderBox ) {\n            measure += isWidth ? elemSize.paddingLeft + elemSize.paddingRight +\n                elemSize.borderLeftWidth + elemSize.borderRightWidth :\n                elemSize.paddingBottom + elemSize.paddingTop +\n                elemSize.borderTopWidth + elemSize.borderBottomWidth;\n        }\n\n        measure = Math.max( measure, 0 );\n        this.element.style[ isWidth ? 'width' : 'height' ] = measure + 'px';\n    };\n\n    /**\n     * emit eventComplete on a collection of items events\n     * @param {String} eventName\n     * @param {Array} items - Outlayer.Items\n     */\n    proto._emitCompleteOnItems = function( eventName, items ) {\n        var _this = this;\n        function onComplete() {\n            _this.dispatchEvent( eventName + 'Complete', null, [ items ] );\n        }\n\n        var count = items.length;\n        if ( !items || !count ) {\n            onComplete();\n            return;\n        }\n\n        var doneCount = 0;\n        function tick() {\n            doneCount++;\n            if ( doneCount == count ) {\n                onComplete();\n            }\n        }\n\n        // bind callback\n        items.forEach( function( item ) {\n            item.once( eventName, tick );\n        });\n    };\n\n    /**\n     * emits events via EvEmitter and jQuery events\n     * @param {String} type - name of event\n     * @param {Event} event - original event\n     * @param {Array} args - extra arguments\n     */\n    proto.dispatchEvent = function( type, event, args ) {\n        // add original event to arguments\n        var emitArgs = event ? [ event ].concat( args ) : args;\n        this.emitEvent( type, emitArgs );\n\n        if ( jQuery ) {\n            // set this.$element\n            this.$element = this.$element || jQuery( this.element );\n            if ( event ) {\n                // create jQuery event\n                var $event = jQuery.Event( event );\n                $event.type = type;\n                this.$element.trigger( $event, args );\n            } else {\n                // just trigger with type if no event available\n                this.$element.trigger( type, args );\n            }\n        }\n    };\n\n// -------------------------- ignore & stamps -------------------------- //\n\n\n    /**\n     * keep item in collection, but do not lay it out\n     * ignored items do not get skipped in layout\n     * @param {Element} elem\n     */\n    proto.ignore = function( elem ) {\n        var item = this.getItem( elem );\n        if ( item ) {\n            item.isIgnored = true;\n        }\n    };\n\n    /**\n     * return item to layout collection\n     * @param {Element} elem\n     */\n    proto.unignore = function( elem ) {\n        var item = this.getItem( elem );\n        if ( item ) {\n            delete item.isIgnored;\n        }\n    };\n\n    /**\n     * adds elements to stamps\n     * @param {NodeList, Array, Element, or String} elems\n     */\n    proto.stamp = function( elems ) {\n        elems = this._find( elems );\n        if ( !elems ) {\n            return;\n        }\n\n        this.stamps = this.stamps.concat( elems );\n        // ignore\n        elems.forEach( this.ignore, this );\n    };\n\n    /**\n     * removes elements to stamps\n     * @param {NodeList, Array, or Element} elems\n     */\n    proto.unstamp = function( elems ) {\n        elems = this._find( elems );\n        if ( !elems ){\n            return;\n        }\n\n        elems.forEach( function( elem ) {\n            // filter out removed stamp elements\n            utils.removeFrom( this.stamps, elem );\n            this.unignore( elem );\n        }, this );\n    };\n\n    /**\n     * finds child elements\n     * @param {NodeList, Array, Element, or String} elems\n     * @returns {Array} elems\n     */\n    proto._find = function( elems ) {\n        if ( !elems ) {\n            return;\n        }\n        // if string, use argument as selector string\n        if ( typeof elems == 'string' ) {\n            elems = this.element.querySelectorAll( elems );\n        }\n        elems = utils.makeArray( elems );\n        return elems;\n    };\n\n    proto._manageStamps = function() {\n        if ( !this.stamps || !this.stamps.length ) {\n            return;\n        }\n\n        this._getBoundingRect();\n\n        this.stamps.forEach( this._manageStamp, this );\n    };\n\n// update boundingLeft / Top\n    proto._getBoundingRect = function() {\n        // get bounding rect for container element\n        var boundingRect = this.element.getBoundingClientRect();\n        var size = this.size;\n        this._boundingRect = {\n            left: boundingRect.left + size.paddingLeft + size.borderLeftWidth,\n            top: boundingRect.top + size.paddingTop + size.borderTopWidth,\n            right: boundingRect.right - ( size.paddingRight + size.borderRightWidth ),\n            bottom: boundingRect.bottom - ( size.paddingBottom + size.borderBottomWidth )\n        };\n    };\n\n    /**\n     * @param {Element} stamp\n     **/\n    proto._manageStamp = noop;\n\n    /**\n     * get x/y position of element relative to container element\n     * @param {Element} elem\n     * @returns {Object} offset - has left, top, right, bottom\n     */\n    proto._getElementOffset = function( elem ) {\n        var boundingRect = elem.getBoundingClientRect();\n        var thisRect = this._boundingRect;\n        var size = getSize( elem );\n        var offset = {\n            left: boundingRect.left - thisRect.left - size.marginLeft,\n            top: boundingRect.top - thisRect.top - size.marginTop,\n            right: thisRect.right - boundingRect.right - size.marginRight,\n            bottom: thisRect.bottom - boundingRect.bottom - size.marginBottom\n        };\n        return offset;\n    };\n\n// -------------------------- resize -------------------------- //\n\n// enable event handlers for listeners\n// i.e. resize -> onresize\n    proto.handleEvent = utils.handleEvent;\n\n    /**\n     * Bind layout to window resizing\n     */\n    proto.bindResize = function() {\n        window.addEventListener( 'resize', this );\n        this.isResizeBound = true;\n    };\n\n    /**\n     * Unbind layout to window resizing\n     */\n    proto.unbindResize = function() {\n        window.removeEventListener( 'resize', this );\n        this.isResizeBound = false;\n    };\n\n    proto.onresize = function() {\n        this.resize();\n    };\n\n    utils.debounceMethod( Outlayer, 'onresize', 100 );\n\n    proto.resize = function() {\n        // don't trigger if size did not change\n        // or if resize was unbound. See #9\n        if ( !this.isResizeBound || !this.needsResizeLayout() ) {\n            return;\n        }\n\n        this.layout();\n    };\n\n    /**\n     * check if layout is needed post layout\n     * @returns Boolean\n     */\n    proto.needsResizeLayout = function() {\n        var size = getSize( this.element );\n        // check that this.size and size are there\n        // IE8 triggers resize on body size change, so they might not be\n        var hasSizes = this.size && size;\n        return hasSizes && size.innerWidth !== this.size.innerWidth;\n    };\n\n// -------------------------- methods -------------------------- //\n\n    /**\n     * add items to Outlayer instance\n     * @param {Array or NodeList or Element} elems\n     * @returns {Array} items - Outlayer.Items\n     **/\n    proto.addItems = function( elems ) {\n        var items = this._itemize( elems );\n        // add items to collection\n        if ( items.length ) {\n            this.items = this.items.concat( items );\n        }\n        return items;\n    };\n\n    /**\n     * Layout newly-appended item elements\n     * @param {Array or NodeList or Element} elems\n     */\n    proto.appended = function( elems ) {\n        var items = this.addItems( elems );\n        if ( !items.length ) {\n            return;\n        }\n        // layout and reveal just the new items\n        this.layoutItems( items, true );\n        this.reveal( items );\n    };\n\n    /**\n     * Layout prepended elements\n     * @param {Array or NodeList or Element} elems\n     */\n    proto.prepended = function( elems ) {\n        var items = this._itemize( elems );\n        if ( !items.length ) {\n            return;\n        }\n        // add items to beginning of collection\n        var previousItems = this.items.slice(0);\n        this.items = items.concat( previousItems );\n        // start new layout\n        this._resetLayout();\n        this._manageStamps();\n        // layout new stuff without transition\n        this.layoutItems( items, true );\n        this.reveal( items );\n        // layout previous items\n        this.layoutItems( previousItems );\n    };\n\n    /**\n     * reveal a collection of items\n     * @param {Array of Outlayer.Items} items\n     */\n    proto.reveal = function( items ) {\n        this._emitCompleteOnItems( 'reveal', items );\n        if ( !items || !items.length ) {\n            return;\n        }\n        var stagger = this.updateStagger();\n        items.forEach( function( item, i ) {\n            item.stagger( i * stagger );\n            item.reveal();\n        });\n    };\n\n    /**\n     * hide a collection of items\n     * @param {Array of Outlayer.Items} items\n     */\n    proto.hide = function( items ) {\n        this._emitCompleteOnItems( 'hide', items );\n        if ( !items || !items.length ) {\n            return;\n        }\n        var stagger = this.updateStagger();\n        items.forEach( function( item, i ) {\n            item.stagger( i * stagger );\n            item.hide();\n        });\n    };\n\n    /**\n     * reveal item elements\n     * @param {Array}, {Element}, {NodeList} items\n     */\n    proto.revealItemElements = function( elems ) {\n        var items = this.getItems( elems );\n        this.reveal( items );\n    };\n\n    /**\n     * hide item elements\n     * @param {Array}, {Element}, {NodeList} items\n     */\n    proto.hideItemElements = function( elems ) {\n        var items = this.getItems( elems );\n        this.hide( items );\n    };\n\n    /**\n     * get Outlayer.Item, given an Element\n     * @param {Element} elem\n     * @param {Function} callback\n     * @returns {Outlayer.Item} item\n     */\n    proto.getItem = function( elem ) {\n        // loop through items to get the one that matches\n        for ( var i=0; i < this.items.length; i++ ) {\n            var item = this.items[i];\n            if ( item.element == elem ) {\n                // return item\n                return item;\n            }\n        }\n    };\n\n    /**\n     * get collection of Outlayer.Items, given Elements\n     * @param {Array} elems\n     * @returns {Array} items - Outlayer.Items\n     */\n    proto.getItems = function( elems ) {\n        elems = utils.makeArray( elems );\n        var items = [];\n        elems.forEach( function( elem ) {\n            var item = this.getItem( elem );\n            if ( item ) {\n                items.push( item );\n            }\n        }, this );\n\n        return items;\n    };\n\n    /**\n     * remove element(s) from instance and DOM\n     * @param {Array or NodeList or Element} elems\n     */\n    proto.remove = function( elems ) {\n        var removeItems = this.getItems( elems );\n\n        this._emitCompleteOnItems( 'remove', removeItems );\n\n        // bail if no items to remove\n        if ( !removeItems || !removeItems.length ) {\n            return;\n        }\n\n        removeItems.forEach( function( item ) {\n            item.remove();\n            // remove item from collection\n            utils.removeFrom( this.items, item );\n        }, this );\n    };\n\n// ----- destroy ----- //\n\n// remove and disable Outlayer instance\n    proto.destroy = function() {\n        // clean up dynamic styles\n        var style = this.element.style;\n        style.height = '';\n        style.position = '';\n        style.width = '';\n        // destroy items\n        this.items.forEach( function( item ) {\n            item.destroy();\n        });\n\n        this.unbindResize();\n\n        var id = this.element.outlayerGUID;\n        delete instances[ id ]; // remove reference to instance by id\n        delete this.element.outlayerGUID;\n        // remove data for jQuery\n        if ( jQuery ) {\n            jQuery.removeData( this.element, this.constructor.namespace );\n        }\n\n    };\n\n// -------------------------- data -------------------------- //\n\n    /**\n     * get Outlayer instance from element\n     * @param {Element} elem\n     * @returns {Outlayer}\n     */\n    Outlayer.data = function( elem ) {\n        elem = utils.getQueryElement( elem );\n        var id = elem && elem.outlayerGUID;\n        return id && instances[ id ];\n    };\n\n\n// -------------------------- create Outlayer class -------------------------- //\n\n    /**\n     * create a layout class\n     * @param {String} namespace\n     */\n    Outlayer.create = function( namespace, options ) {\n        // sub-class Outlayer\n        var Layout = subclass( Outlayer );\n        // apply new options and compatOptions\n        Layout.defaults = utils.extend( {}, Outlayer.defaults );\n        utils.extend( Layout.defaults, options );\n        Layout.compatOptions = utils.extend( {}, Outlayer.compatOptions  );\n\n        Layout.namespace = namespace;\n\n        Layout.data = Outlayer.data;\n\n        // sub-class Item\n        Layout.Item = subclass( Item );\n\n        // -------------------------- declarative -------------------------- //\n\n        utils.htmlInit( Layout, namespace );\n\n        // -------------------------- jQuery bridge -------------------------- //\n\n        // make into jQuery plugin\n        if ( jQuery && jQuery.bridget ) {\n            jQuery.bridget( namespace, Layout );\n        }\n\n        return Layout;\n    };\n\n    function subclass( Parent ) {\n        function SubClass() {\n            Parent.apply( this, arguments );\n        }\n\n        SubClass.prototype = Object.create( Parent.prototype );\n        SubClass.prototype.constructor = SubClass;\n\n        return SubClass;\n    }\n\n// ----- helpers ----- //\n\n// how many milliseconds are in each unit\n    var msUnits = {\n        ms: 1,\n        s: 1000\n    };\n\n// munge time-like parameter into millisecond number\n// '0.4s' -> 40\n    function getMilliseconds( time ) {\n        if ( typeof time == 'number' ) {\n            return time;\n        }\n        var matches = time.match( /(^\\d*\\.?\\d*)(\\w*)/ );\n        var num = matches && matches[1];\n        var unit = matches && matches[2];\n        if ( !num.length ) {\n            return 0;\n        }\n        num = parseFloat( num );\n        var mult = msUnits[ unit ] || 1;\n        return num * mult;\n    }\n\n// ----- fin ----- //\n\n// back in global\n    Outlayer.Item = Item;\n\n    return Outlayer;\n\n}));\n\n/**\n * Isotope Item\n **/\n\n( function( window, factory ) {\n    // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n    if ( typeof define == 'function' && define.amd ) {\n        // AMD\n        define( 'isotope/js/item',[\n                'outlayer/outlayer'\n            ],\n            factory );\n    } else if ( typeof module == 'object' && module.exports ) {\n        // CommonJS\n        module.exports = factory(\n            require('outlayer')\n        );\n    } else {\n        // browser global\n        window.Isotope = window.Isotope || {};\n        window.Isotope.Item = factory(\n            window.Outlayer\n        );\n    }\n\n}( window, function factory( Outlayer ) {\n    'use strict';\n\n// -------------------------- Item -------------------------- //\n\n// sub-class Outlayer Item\n    function Item() {\n        Outlayer.Item.apply( this, arguments );\n    }\n\n    var proto = Item.prototype = Object.create( Outlayer.Item.prototype );\n\n    var _create = proto._create;\n    proto._create = function() {\n        // assign id, used for original-order sorting\n        this.id = this.layout.itemGUID++;\n        _create.call( this );\n        this.sortData = {};\n    };\n\n    proto.updateSortData = function() {\n        if ( this.isIgnored ) {\n            return;\n        }\n        // default sorters\n        this.sortData.id = this.id;\n        // for backward compatibility\n        this.sortData['original-order'] = this.id;\n        this.sortData.random = Math.random();\n        // go thru getSortData obj and apply the sorters\n        var getSortData = this.layout.options.getSortData;\n        var sorters = this.layout._sorters;\n        for ( var key in getSortData ) {\n            var sorter = sorters[ key ];\n            this.sortData[ key ] = sorter( this.element, this );\n        }\n    };\n\n    var _destroy = proto.destroy;\n    proto.destroy = function() {\n        // call super\n        _destroy.apply( this, arguments );\n        // reset display, #741\n        this.css({\n            display: ''\n        });\n    };\n\n    return Item;\n\n}));\n\n/**\n * Isotope LayoutMode\n */\n\n( function( window, factory ) {\n    // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n    if ( typeof define == 'function' && define.amd ) {\n        // AMD\n        define( 'isotope/js/layout-mode',[\n                'get-size/get-size',\n                'outlayer/outlayer'\n            ],\n            factory );\n    } else if ( typeof module == 'object' && module.exports ) {\n        // CommonJS\n        module.exports = factory(\n            require('get-size'),\n            require('outlayer')\n        );\n    } else {\n        // browser global\n        window.Isotope = window.Isotope || {};\n        window.Isotope.LayoutMode = factory(\n            window.getSize,\n            window.Outlayer\n        );\n    }\n\n}( window, function factory( getSize, Outlayer ) {\n    'use strict';\n\n    // layout mode class\n    function LayoutMode( isotope ) {\n        this.isotope = isotope;\n        // link properties\n        if ( isotope ) {\n            this.options = isotope.options[ this.namespace ];\n            this.element = isotope.element;\n            this.items = isotope.filteredItems;\n            this.size = isotope.size;\n        }\n    }\n\n    var proto = LayoutMode.prototype;\n\n    /**\n     * some methods should just defer to default Outlayer method\n     * and reference the Isotope instance as `this`\n     **/\n    var facadeMethods = [\n        '_resetLayout',\n        '_getItemLayoutPosition',\n        '_manageStamp',\n        '_getContainerSize',\n        '_getElementOffset',\n        'needsResizeLayout',\n        '_getOption'\n    ];\n\n    facadeMethods.forEach( function( methodName ) {\n        proto[ methodName ] = function() {\n            return Outlayer.prototype[ methodName ].apply( this.isotope, arguments );\n        };\n    });\n\n    // -----  ----- //\n\n    // for horizontal layout modes, check vertical size\n    proto.needsVerticalResizeLayout = function() {\n        // don't trigger if size did not change\n        var size = getSize( this.isotope.element );\n        // check that this.size and size are there\n        // IE8 triggers resize on body size change, so they might not be\n        var hasSizes = this.isotope.size && size;\n        return hasSizes && size.innerHeight != this.isotope.size.innerHeight;\n    };\n\n    // ----- measurements ----- //\n\n    proto._getMeasurement = function() {\n        this.isotope._getMeasurement.apply( this, arguments );\n    };\n\n    proto.getColumnWidth = function() {\n        this.getSegmentSize( 'column', 'Width' );\n    };\n\n    proto.getRowHeight = function() {\n        this.getSegmentSize( 'row', 'Height' );\n    };\n\n    /**\n     * get columnWidth or rowHeight\n     * segment: 'column' or 'row'\n     * size 'Width' or 'Height'\n     **/\n    proto.getSegmentSize = function( segment, size ) {\n        var segmentName = segment + size;\n        var outerSize = 'outer' + size;\n        // columnWidth / outerWidth // rowHeight / outerHeight\n        this._getMeasurement( segmentName, outerSize );\n        // got rowHeight or columnWidth, we can chill\n        if ( this[ segmentName ] ) {\n            return;\n        }\n        // fall back to item of first element\n        var firstItemSize = this.getFirstItemSize();\n        this[ segmentName ] = firstItemSize && firstItemSize[ outerSize ] ||\n            // or size of container\n            this.isotope.size[ 'inner' + size ];\n    };\n\n    proto.getFirstItemSize = function() {\n        var firstItem = this.isotope.filteredItems[0];\n        return firstItem && firstItem.element && getSize( firstItem.element );\n    };\n\n    // ----- methods that should reference isotope ----- //\n\n    proto.layout = function() {\n        this.isotope.layout.apply( this.isotope, arguments );\n    };\n\n    proto.getSize = function() {\n        this.isotope.getSize();\n        this.size = this.isotope.size;\n    };\n\n    // -------------------------- create -------------------------- //\n\n    LayoutMode.modes = {};\n\n    LayoutMode.create = function( namespace, options ) {\n\n        function Mode() {\n            LayoutMode.apply( this, arguments );\n        }\n\n        Mode.prototype = Object.create( proto );\n        Mode.prototype.constructor = Mode;\n\n        // default options\n        if ( options ) {\n            Mode.options = options;\n        }\n\n        Mode.prototype.namespace = namespace;\n        // register in Isotope\n        LayoutMode.modes[ namespace ] = Mode;\n\n        return Mode;\n    };\n\n    return LayoutMode;\n\n}));\n\n/*!\n * Masonry v4.2.0\n * Cascading grid layout library\n * http://masonry.desandro.com\n * MIT License\n * by David DeSandro\n */\n\n( function( window, factory ) {\n    // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n    if ( typeof define == 'function' && define.amd ) {\n        // AMD\n        define( 'masonry/masonry',[\n                'outlayer/outlayer',\n                'get-size/get-size'\n            ],\n            factory );\n    } else if ( typeof module == 'object' && module.exports ) {\n        // CommonJS\n        module.exports = factory(\n            require('outlayer'),\n            require('get-size')\n        );\n    } else {\n        // browser global\n        window.Masonry = factory(\n            window.Outlayer,\n            window.getSize\n        );\n    }\n\n}( window, function factory( Outlayer, getSize ) {\n\n\n\n// -------------------------- masonryDefinition -------------------------- //\n\n    // create an Outlayer layout class\n    var Masonry = Outlayer.create('masonry');\n    // isFitWidth -> fitWidth\n    Masonry.compatOptions.fitWidth = 'isFitWidth';\n\n    var proto = Masonry.prototype;\n\n    proto._resetLayout = function() {\n        this.getSize();\n        this._getMeasurement( 'columnWidth', 'outerWidth' );\n        this._getMeasurement( 'gutter', 'outerWidth' );\n        this.measureColumns();\n\n        // reset column Y\n        this.colYs = [];\n        for ( var i=0; i < this.cols; i++ ) {\n            this.colYs.push( 0 );\n        }\n\n        this.maxY = 0;\n        this.horizontalColIndex = 0;\n    };\n\n    proto.measureColumns = function() {\n        this.getContainerWidth();\n        // if columnWidth is 0, default to outerWidth of first item\n        if ( !this.columnWidth ) {\n            var firstItem = this.items[0];\n            var firstItemElem = firstItem && firstItem.element;\n            // columnWidth fall back to item of first element\n            this.columnWidth = firstItemElem && getSize( firstItemElem ).outerWidth ||\n                // if first elem has no width, default to size of container\n                this.containerWidth;\n        }\n\n        var columnWidth = this.columnWidth += this.gutter;\n\n        // calculate columns\n        var containerWidth = this.containerWidth + this.gutter;\n        var cols = containerWidth / columnWidth;\n        // fix rounding errors, typically with gutters\n        var excess = columnWidth - containerWidth % columnWidth;\n        // if overshoot is less than a pixel, round up, otherwise floor it\n        var mathMethod = excess && excess < 1 ? 'round' : 'floor';\n        cols = Math[ mathMethod ]( cols );\n        this.cols = Math.max( cols, 1 );\n    };\n\n    proto.getContainerWidth = function() {\n        // container is parent if fit width\n        var isFitWidth = this._getOption('fitWidth');\n        var container = isFitWidth ? this.element.parentNode : this.element;\n        // check that this.size and size are there\n        // IE8 triggers resize on body size change, so they might not be\n        var size = getSize( container );\n        this.containerWidth = size && size.innerWidth;\n    };\n\n    proto._getItemLayoutPosition = function( item ) {\n        item.getSize();\n        // how many columns does this brick span\n        var remainder = item.size.outerWidth % this.columnWidth;\n        var mathMethod = remainder && remainder < 1 ? 'round' : 'ceil';\n        // round if off by 1 pixel, otherwise use ceil\n        var colSpan = Math[ mathMethod ]( item.size.outerWidth / this.columnWidth );\n        colSpan = Math.min( colSpan, this.cols );\n        // use horizontal or top column position\n        var colPosMethod = this.options.horizontalOrder ?\n            '_getHorizontalColPosition' : '_getTopColPosition';\n        var colPosition = this[ colPosMethod ]( colSpan, item );\n        // position the brick\n        var position = {\n            x: this.columnWidth * colPosition.col,\n            y: colPosition.y\n        };\n        // apply setHeight to necessary columns\n        var setHeight = colPosition.y + item.size.outerHeight;\n        var setMax = colSpan + colPosition.col;\n        for ( var i = colPosition.col; i < setMax; i++ ) {\n            this.colYs[i] = setHeight;\n        }\n\n        return position;\n    };\n\n    proto._getTopColPosition = function( colSpan ) {\n        var colGroup = this._getTopColGroup( colSpan );\n        // get the minimum Y value from the columns\n        var minimumY = Math.min.apply( Math, colGroup );\n\n        return {\n            col: colGroup.indexOf( minimumY ),\n            y: minimumY,\n        };\n    };\n\n    /**\n     * @param {Number} colSpan - number of columns the element spans\n     * @returns {Array} colGroup\n     */\n    proto._getTopColGroup = function( colSpan ) {\n        if ( colSpan < 2 ) {\n            // if brick spans only one column, use all the column Ys\n            return this.colYs;\n        }\n\n        var colGroup = [];\n        // how many different places could this brick fit horizontally\n        var groupCount = this.cols + 1 - colSpan;\n        // for each group potential horizontal position\n        for ( var i = 0; i < groupCount; i++ ) {\n            colGroup[i] = this._getColGroupY( i, colSpan );\n        }\n        return colGroup;\n    };\n\n    proto._getColGroupY = function( col, colSpan ) {\n        if ( colSpan < 2 ) {\n            return this.colYs[ col ];\n        }\n        // make an array of colY values for that one group\n        var groupColYs = this.colYs.slice( col, col + colSpan );\n        // and get the max value of the array\n        return Math.max.apply( Math, groupColYs );\n    };\n\n    // get column position based on horizontal index. #873\n    proto._getHorizontalColPosition = function( colSpan, item ) {\n        var col = this.horizontalColIndex % this.cols;\n        var isOver = colSpan > 1 && col + colSpan > this.cols;\n        // shift to next row if item can't fit on current row\n        col = isOver ? 0 : col;\n        // don't let zero-size items take up space\n        var hasSize = item.size.outerWidth && item.size.outerHeight;\n        this.horizontalColIndex = hasSize ? col + colSpan : this.horizontalColIndex;\n\n        return {\n            col: col,\n            y: this._getColGroupY( col, colSpan ),\n        };\n    };\n\n    proto._manageStamp = function( stamp ) {\n        var stampSize = getSize( stamp );\n        var offset = this._getElementOffset( stamp );\n        // get the columns that this stamp affects\n        var isOriginLeft = this._getOption('originLeft');\n        var firstX = isOriginLeft ? offset.left : offset.right;\n        var lastX = firstX + stampSize.outerWidth;\n        var firstCol = Math.floor( firstX / this.columnWidth );\n        firstCol = Math.max( 0, firstCol );\n        var lastCol = Math.floor( lastX / this.columnWidth );\n        // lastCol should not go over if multiple of columnWidth #425\n        lastCol -= lastX % this.columnWidth ? 0 : 1;\n        lastCol = Math.min( this.cols - 1, lastCol );\n        // set colYs to bottom of the stamp\n\n        var isOriginTop = this._getOption('originTop');\n        var stampMaxY = ( isOriginTop ? offset.top : offset.bottom ) +\n            stampSize.outerHeight;\n        for ( var i = firstCol; i <= lastCol; i++ ) {\n            this.colYs[i] = Math.max( stampMaxY, this.colYs[i] );\n        }\n    };\n\n    proto._getContainerSize = function() {\n        this.maxY = Math.max.apply( Math, this.colYs );\n        var size = {\n            height: this.maxY\n        };\n\n        if ( this._getOption('fitWidth') ) {\n            size.width = this._getContainerFitWidth();\n        }\n\n        return size;\n    };\n\n    proto._getContainerFitWidth = function() {\n        var unusedCols = 0;\n        // count unused columns\n        var i = this.cols;\n        while ( --i ) {\n            if ( this.colYs[i] !== 0 ) {\n                break;\n            }\n            unusedCols++;\n        }\n        // fit container to columns that have been used\n        return ( this.cols - unusedCols ) * this.columnWidth - this.gutter;\n    };\n\n    proto.needsResizeLayout = function() {\n        var previousWidth = this.containerWidth;\n        this.getContainerWidth();\n        return previousWidth != this.containerWidth;\n    };\n\n    return Masonry;\n\n}));\n\n/*!\n * Masonry layout mode\n * sub-classes Masonry\n * http://masonry.desandro.com\n */\n\n( function( window, factory ) {\n    // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n    if ( typeof define == 'function' && define.amd ) {\n        // AMD\n        define( 'isotope/js/layout-modes/masonry',[\n                '../layout-mode',\n                'masonry/masonry'\n            ],\n            factory );\n    } else if ( typeof module == 'object' && module.exports ) {\n        // CommonJS\n        module.exports = factory(\n            require('../layout-mode'),\n            require('masonry-layout')\n        );\n    } else {\n        // browser global\n        factory(\n            window.Isotope.LayoutMode,\n            window.Masonry\n        );\n    }\n\n}( window, function factory( LayoutMode, Masonry ) {\n    'use strict';\n\n// -------------------------- masonryDefinition -------------------------- //\n\n    // create an Outlayer layout class\n    var MasonryMode = LayoutMode.create('masonry');\n\n    var proto = MasonryMode.prototype;\n\n    var keepModeMethods = {\n        _getElementOffset: true,\n        layout: true,\n        _getMeasurement: true\n    };\n\n    // inherit Masonry prototype\n    for ( var method in Masonry.prototype ) {\n        // do not inherit mode methods\n        if ( !keepModeMethods[ method ] ) {\n            proto[ method ] = Masonry.prototype[ method ];\n        }\n    }\n\n    var measureColumns = proto.measureColumns;\n    proto.measureColumns = function() {\n        // set items, used if measuring first item\n        this.items = this.isotope.filteredItems;\n        measureColumns.call( this );\n    };\n\n    // point to mode options for fitWidth\n    var _getOption = proto._getOption;\n    proto._getOption = function( option ) {\n        if ( option == 'fitWidth' ) {\n            return this.options.isFitWidth !== undefined ?\n                this.options.isFitWidth : this.options.fitWidth;\n        }\n        return _getOption.apply( this.isotope, arguments );\n    };\n\n    return MasonryMode;\n\n}));\n\n/**\n * fitRows layout mode\n */\n\n( function( window, factory ) {\n    // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n    if ( typeof define == 'function' && define.amd ) {\n        // AMD\n        define( 'isotope/js/layout-modes/fit-rows',[\n                '../layout-mode'\n            ],\n            factory );\n    } else if ( typeof exports == 'object' ) {\n        // CommonJS\n        module.exports = factory(\n            require('../layout-mode')\n        );\n    } else {\n        // browser global\n        factory(\n            window.Isotope.LayoutMode\n        );\n    }\n\n}( window, function factory( LayoutMode ) {\n    'use strict';\n\n    var FitRows = LayoutMode.create('fitRows');\n\n    var proto = FitRows.prototype;\n\n    proto._resetLayout = function() {\n        this.x = 0;\n        this.y = 0;\n        this.maxY = 0;\n        this._getMeasurement( 'gutter', 'outerWidth' );\n    };\n\n    proto._getItemLayoutPosition = function( item ) {\n        item.getSize();\n\n        var itemWidth = item.size.outerWidth + this.gutter;\n        // if this element cannot fit in the current row\n        var containerWidth = this.isotope.size.innerWidth + this.gutter;\n        if ( this.x !== 0 && itemWidth + this.x > containerWidth ) {\n            this.x = 0;\n            this.y = this.maxY;\n        }\n\n        var position = {\n            x: this.x,\n            y: this.y\n        };\n\n        this.maxY = Math.max( this.maxY, this.y + item.size.outerHeight );\n        this.x += itemWidth;\n\n        return position;\n    };\n\n    proto._getContainerSize = function() {\n        return { height: this.maxY };\n    };\n\n    return FitRows;\n\n}));\n\n/**\n * vertical layout mode\n */\n\n( function( window, factory ) {\n    // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n    if ( typeof define == 'function' && define.amd ) {\n        // AMD\n        define( 'isotope/js/layout-modes/vertical',[\n                '../layout-mode'\n            ],\n            factory );\n    } else if ( typeof module == 'object' && module.exports ) {\n        // CommonJS\n        module.exports = factory(\n            require('../layout-mode')\n        );\n    } else {\n        // browser global\n        factory(\n            window.Isotope.LayoutMode\n        );\n    }\n\n}( window, function factory( LayoutMode ) {\n    'use strict';\n\n    var Vertical = LayoutMode.create( 'vertical', {\n        horizontalAlignment: 0\n    });\n\n    var proto = Vertical.prototype;\n\n    proto._resetLayout = function() {\n        this.y = 0;\n    };\n\n    proto._getItemLayoutPosition = function( item ) {\n        item.getSize();\n        var x = ( this.isotope.size.innerWidth - item.size.outerWidth ) *\n            this.options.horizontalAlignment;\n        var y = this.y;\n        this.y += item.size.outerHeight;\n        return { x: x, y: y };\n    };\n\n    proto._getContainerSize = function() {\n        return { height: this.y };\n    };\n\n    return Vertical;\n\n}));\n\n/*!\n * Isotope v3.0.4\n *\n * Licensed GPLv3 for open source use\n * or Isotope Commercial License for commercial use\n *\n * http://isotope.metafizzy.co\n * Copyright 2017 Metafizzy\n */\n\n( function( window, factory ) {\n    // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n    if ( typeof define == 'function' && define.amd ) {\n        // AMD\n        define( [\n                'outlayer/outlayer',\n                'get-size/get-size',\n                'desandro-matches-selector/matches-selector',\n                'fizzy-ui-utils/utils',\n                'isotope/js/item',\n                'isotope/js/layout-mode',\n                // include default layout modes\n                'isotope/js/layout-modes/masonry',\n                'isotope/js/layout-modes/fit-rows',\n                'isotope/js/layout-modes/vertical'\n            ],\n            function( Outlayer, getSize, matchesSelector, utils, Item, LayoutMode ) {\n                return factory( window, Outlayer, getSize, matchesSelector, utils, Item, LayoutMode );\n            });\n    } else if ( typeof module == 'object' && module.exports ) {\n        // CommonJS\n        module.exports = factory(\n            window,\n            require('outlayer'),\n            require('get-size'),\n            require('desandro-matches-selector'),\n            require('fizzy-ui-utils'),\n            require('isotope/js/item'),\n            require('isotope/js/layout-mode'),\n            // include default layout modes\n            require('isotope/js/layout-modes/masonry'),\n            require('isotope/js/layout-modes/fit-rows'),\n            require('isotope/js/layout-modes/vertical')\n        );\n    } else {\n        // browser global\n        window.Isotope = factory(\n            window,\n            window.Outlayer,\n            window.getSize,\n            window.matchesSelector,\n            window.fizzyUIUtils,\n            window.Isotope.Item,\n            window.Isotope.LayoutMode\n        );\n    }\n\n}( window, function factory( window, Outlayer, getSize, matchesSelector, utils,\n                             Item, LayoutMode ) {\n\n\n\n// -------------------------- vars -------------------------- //\n\n    var jQuery = window.jQuery;\n\n// -------------------------- helpers -------------------------- //\n\n    var trim = String.prototype.trim ?\n        function( str ) {\n            return str.trim();\n        } :\n        function( str ) {\n            return str.replace( /^\\s+|\\s+$/g, '' );\n        };\n\n// -------------------------- isotopeDefinition -------------------------- //\n\n    // create an Outlayer layout class\n    var Isotope = Outlayer.create( 'isotope', {\n        layoutMode: 'masonry',\n        isJQueryFiltering: true,\n        sortAscending: true\n    });\n\n    Isotope.Item = Item;\n    Isotope.LayoutMode = LayoutMode;\n\n    var proto = Isotope.prototype;\n\n    proto._create = function() {\n        this.itemGUID = 0;\n        // functions that sort items\n        this._sorters = {};\n        this._getSorters();\n        // call super\n        Outlayer.prototype._create.call( this );\n\n        // create layout modes\n        this.modes = {};\n        // start filteredItems with all items\n        this.filteredItems = this.items;\n        // keep of track of sortBys\n        this.sortHistory = [ 'original-order' ];\n        // create from registered layout modes\n        for ( var name in LayoutMode.modes ) {\n            this._initLayoutMode( name );\n        }\n    };\n\n    proto.reloadItems = function() {\n        // reset item ID counter\n        this.itemGUID = 0;\n        // call super\n        Outlayer.prototype.reloadItems.call( this );\n    };\n\n    proto._itemize = function() {\n        var items = Outlayer.prototype._itemize.apply( this, arguments );\n        // assign ID for original-order\n        for ( var i=0; i < items.length; i++ ) {\n            var item = items[i];\n            item.id = this.itemGUID++;\n        }\n        this._updateItemsSortData( items );\n        return items;\n    };\n\n\n    // -------------------------- layout -------------------------- //\n\n    proto._initLayoutMode = function( name ) {\n        var Mode = LayoutMode.modes[ name ];\n        // set mode options\n        // HACK extend initial options, back-fill in default options\n        var initialOpts = this.options[ name ] || {};\n        this.options[ name ] = Mode.options ?\n            utils.extend( Mode.options, initialOpts ) : initialOpts;\n        // init layout mode instance\n        this.modes[ name ] = new Mode( this );\n    };\n\n\n    proto.layout = function() {\n        // if first time doing layout, do all magic\n        if ( !this._isLayoutInited && this._getOption('initLayout') ) {\n            this.arrange();\n            return;\n        }\n        this._layout();\n    };\n\n    // private method to be used in layout() & magic()\n    proto._layout = function() {\n        // don't animate first layout\n        var isInstant = this._getIsInstant();\n        // layout flow\n        this._resetLayout();\n        this._manageStamps();\n        this.layoutItems( this.filteredItems, isInstant );\n\n        // flag for initalized\n        this._isLayoutInited = true;\n    };\n\n    // filter + sort + layout\n    proto.arrange = function( opts ) {\n        // set any options pass\n        this.option( opts );\n        this._getIsInstant();\n        // filter, sort, and layout\n\n        // filter\n        var filtered = this._filter( this.items );\n        this.filteredItems = filtered.matches;\n\n        this._bindArrangeComplete();\n\n        if ( this._isInstant ) {\n            this._noTransition( this._hideReveal, [ filtered ] );\n        } else {\n            this._hideReveal( filtered );\n        }\n\n        this._sort();\n        this._layout();\n    };\n    // alias to _init for main plugin method\n    proto._init = proto.arrange;\n\n    proto._hideReveal = function( filtered ) {\n        this.reveal( filtered.needReveal );\n        this.hide( filtered.needHide );\n    };\n\n    // HACK\n    // Don't animate/transition first layout\n    // Or don't animate/transition other layouts\n    proto._getIsInstant = function() {\n        var isLayoutInstant = this._getOption('layoutInstant');\n        var isInstant = isLayoutInstant !== undefined ? isLayoutInstant :\n            !this._isLayoutInited;\n        this._isInstant = isInstant;\n        return isInstant;\n    };\n\n    // listen for layoutComplete, hideComplete and revealComplete\n    // to trigger arrangeComplete\n    proto._bindArrangeComplete = function() {\n        // listen for 3 events to trigger arrangeComplete\n        var isLayoutComplete, isHideComplete, isRevealComplete;\n        var _this = this;\n        function arrangeParallelCallback() {\n            if ( isLayoutComplete && isHideComplete && isRevealComplete ) {\n                _this.dispatchEvent( 'arrangeComplete', null, [ _this.filteredItems ] );\n            }\n        }\n        this.once( 'layoutComplete', function() {\n            isLayoutComplete = true;\n            arrangeParallelCallback();\n        });\n        this.once( 'hideComplete', function() {\n            isHideComplete = true;\n            arrangeParallelCallback();\n        });\n        this.once( 'revealComplete', function() {\n            isRevealComplete = true;\n            arrangeParallelCallback();\n        });\n    };\n\n    // -------------------------- filter -------------------------- //\n\n    proto._filter = function( items ) {\n        var filter = this.options.filter;\n        filter = filter || '*';\n        var matches = [];\n        var hiddenMatched = [];\n        var visibleUnmatched = [];\n\n        var test = this._getFilterTest( filter );\n\n        // test each item\n        for ( var i=0; i < items.length; i++ ) {\n            var item = items[i];\n            if ( item.isIgnored ) {\n                continue;\n            }\n            // add item to either matched or unmatched group\n            var isMatched = test( item );\n            // item.isFilterMatched = isMatched;\n            // add to matches if its a match\n            if ( isMatched ) {\n                matches.push( item );\n            }\n            // add to additional group if item needs to be hidden or revealed\n            if ( isMatched && item.isHidden ) {\n                hiddenMatched.push( item );\n            } else if ( !isMatched && !item.isHidden ) {\n                visibleUnmatched.push( item );\n            }\n        }\n\n        // return collections of items to be manipulated\n        return {\n            matches: matches,\n            needReveal: hiddenMatched,\n            needHide: visibleUnmatched\n        };\n    };\n\n    // get a jQuery, function, or a matchesSelector test given the filter\n    proto._getFilterTest = function( filter ) {\n        if ( jQuery && this.options.isJQueryFiltering ) {\n            // use jQuery\n            return function( item ) {\n                return jQuery( item.element ).is( filter );\n            };\n        }\n        if ( typeof filter == 'function' ) {\n            // use filter as function\n            return function( item ) {\n                return filter( item.element );\n            };\n        }\n        // default, use filter as selector string\n        return function( item ) {\n            return matchesSelector( item.element, filter );\n        };\n    };\n\n    // -------------------------- sorting -------------------------- //\n\n    /**\n     * @params {Array} elems\n     * @public\n     */\n    proto.updateSortData = function( elems ) {\n        // get items\n        var items;\n        if ( elems ) {\n            elems = utils.makeArray( elems );\n            items = this.getItems( elems );\n        } else {\n            // update all items if no elems provided\n            items = this.items;\n        }\n\n        this._getSorters();\n        this._updateItemsSortData( items );\n    };\n\n    proto._getSorters = function() {\n        var getSortData = this.options.getSortData;\n        for ( var key in getSortData ) {\n            var sorter = getSortData[ key ];\n            this._sorters[ key ] = mungeSorter( sorter );\n        }\n    };\n\n    /**\n     * @params {Array} items - of Isotope.Items\n     * @private\n     */\n    proto._updateItemsSortData = function( items ) {\n        // do not update if no items\n        var len = items && items.length;\n\n        for ( var i=0; len && i < len; i++ ) {\n            var item = items[i];\n            item.updateSortData();\n        }\n    };\n\n    // ----- munge sorter ----- //\n\n    // encapsulate this, as we just need mungeSorter\n    // other functions in here are just for munging\n    var mungeSorter = ( function() {\n        // add a magic layer to sorters for convienent shorthands\n        // `.foo-bar` will use the text of .foo-bar querySelector\n        // `[foo-bar]` will use attribute\n        // you can also add parser\n        // `.foo-bar parseInt` will parse that as a number\n        function mungeSorter( sorter ) {\n            // if not a string, return function or whatever it is\n            if ( typeof sorter != 'string' ) {\n                return sorter;\n            }\n            // parse the sorter string\n            var args = trim( sorter ).split(' ');\n            var query = args[0];\n            // check if query looks like [an-attribute]\n            var attrMatch = query.match( /^\\[(.+)\\]$/ );\n            var attr = attrMatch && attrMatch[1];\n            var getValue = getValueGetter( attr, query );\n            // use second argument as a parser\n            var parser = Isotope.sortDataParsers[ args[1] ];\n            // parse the value, if there was a parser\n            sorter = parser ? function( elem ) {\n                return elem && parser( getValue( elem ) );\n            } :\n                // otherwise just return value\n                function( elem ) {\n                    return elem && getValue( elem );\n                };\n\n            return sorter;\n        }\n\n        // get an attribute getter, or get text of the querySelector\n        function getValueGetter( attr, query ) {\n            // if query looks like [foo-bar], get attribute\n            if ( attr ) {\n                return function getAttribute( elem ) {\n                    return elem.getAttribute( attr );\n                };\n            }\n\n            // otherwise, assume its a querySelector, and get its text\n            return function getChildText( elem ) {\n                var child = elem.querySelector( query );\n                return child && child.textContent;\n            };\n        }\n\n        return mungeSorter;\n    })();\n\n    // parsers used in getSortData shortcut strings\n    Isotope.sortDataParsers = {\n        'parseInt': function( val ) {\n            return parseInt( val, 10 );\n        },\n        'parseFloat': function( val ) {\n            return parseFloat( val );\n        }\n    };\n\n    // ----- sort method ----- //\n\n    // sort filteredItem order\n    proto._sort = function() {\n        if ( !this.options.sortBy ) {\n            return;\n        }\n        // keep track of sortBy History\n        var sortBys = utils.makeArray( this.options.sortBy );\n        if ( !this._getIsSameSortBy( sortBys ) ) {\n            // concat all sortBy and sortHistory, add to front, oldest goes in last\n            this.sortHistory = sortBys.concat( this.sortHistory );\n        }\n        // sort magic\n        var itemSorter = getItemSorter( this.sortHistory, this.options.sortAscending );\n        this.filteredItems.sort( itemSorter );\n    };\n\n    // check if sortBys is same as start of sortHistory\n    proto._getIsSameSortBy = function( sortBys ) {\n        for ( var i=0; i < sortBys.length; i++ ) {\n            if ( sortBys[i] != this.sortHistory[i] ) {\n                return false;\n            }\n        }\n        return true;\n    };\n\n    // returns a function used for sorting\n    function getItemSorter( sortBys, sortAsc ) {\n        return function sorter( itemA, itemB ) {\n            // cycle through all sortKeys\n            for ( var i = 0; i < sortBys.length; i++ ) {\n                var sortBy = sortBys[i];\n                var a = itemA.sortData[ sortBy ];\n                var b = itemB.sortData[ sortBy ];\n                if ( a > b || a < b ) {\n                    // if sortAsc is an object, use the value given the sortBy key\n                    var isAscending = sortAsc[ sortBy ] !== undefined ? sortAsc[ sortBy ] : sortAsc;\n                    var direction = isAscending ? 1 : -1;\n                    return ( a > b ? 1 : -1 ) * direction;\n                }\n            }\n            return 0;\n        };\n    }\n\n    // -------------------------- methods -------------------------- //\n\n    // get layout mode\n    proto._mode = function() {\n        var layoutMode = this.options.layoutMode;\n        var mode = this.modes[ layoutMode ];\n        if ( !mode ) {\n            // TODO console.error\n            throw new Error( 'No layout mode: ' + layoutMode );\n        }\n        // HACK sync mode's options\n        // any options set after init for layout mode need to be synced\n        mode.options = this.options[ layoutMode ];\n        return mode;\n    };\n\n    proto._resetLayout = function() {\n        // trigger original reset layout\n        Outlayer.prototype._resetLayout.call( this );\n        this._mode()._resetLayout();\n    };\n\n    proto._getItemLayoutPosition = function( item  ) {\n        return this._mode()._getItemLayoutPosition( item );\n    };\n\n    proto._manageStamp = function( stamp ) {\n        this._mode()._manageStamp( stamp );\n    };\n\n    proto._getContainerSize = function() {\n        return this._mode()._getContainerSize();\n    };\n\n    proto.needsResizeLayout = function() {\n        return this._mode().needsResizeLayout();\n    };\n\n    // -------------------------- adding & removing -------------------------- //\n\n    // HEADS UP overwrites default Outlayer appended\n    proto.appended = function( elems ) {\n        var items = this.addItems( elems );\n        if ( !items.length ) {\n            return;\n        }\n        // filter, layout, reveal new items\n        var filteredItems = this._filterRevealAdded( items );\n        // add to filteredItems\n        this.filteredItems = this.filteredItems.concat( filteredItems );\n    };\n\n    // HEADS UP overwrites default Outlayer prepended\n    proto.prepended = function( elems ) {\n        var items = this._itemize( elems );\n        if ( !items.length ) {\n            return;\n        }\n        // start new layout\n        this._resetLayout();\n        this._manageStamps();\n        // filter, layout, reveal new items\n        var filteredItems = this._filterRevealAdded( items );\n        // layout previous items\n        this.layoutItems( this.filteredItems );\n        // add to items and filteredItems\n        this.filteredItems = filteredItems.concat( this.filteredItems );\n        this.items = items.concat( this.items );\n    };\n\n    proto._filterRevealAdded = function( items ) {\n        var filtered = this._filter( items );\n        this.hide( filtered.needHide );\n        // reveal all new items\n        this.reveal( filtered.matches );\n        // layout new items, no transition\n        this.layoutItems( filtered.matches, true );\n        return filtered.matches;\n    };\n\n    /**\n     * Filter, sort, and layout newly-appended item elements\n     * @param {Array or NodeList or Element} elems\n     */\n    proto.insert = function( elems ) {\n        var items = this.addItems( elems );\n        if ( !items.length ) {\n            return;\n        }\n        // append item elements\n        var i, item;\n        var len = items.length;\n        for ( i=0; i < len; i++ ) {\n            item = items[i];\n            this.element.appendChild( item.element );\n        }\n        // filter new stuff\n        var filteredInsertItems = this._filter( items ).matches;\n        // set flag\n        for ( i=0; i < len; i++ ) {\n            items[i].isLayoutInstant = true;\n        }\n        this.arrange();\n        // reset flag\n        for ( i=0; i < len; i++ ) {\n            delete items[i].isLayoutInstant;\n        }\n        this.reveal( filteredInsertItems );\n    };\n\n    var _remove = proto.remove;\n    proto.remove = function( elems ) {\n        elems = utils.makeArray( elems );\n        var removeItems = this.getItems( elems );\n        // do regular thing\n        _remove.call( this, elems );\n        // bail if no items to remove\n        var len = removeItems && removeItems.length;\n        // remove elems from filteredItems\n        for ( var i=0; len && i < len; i++ ) {\n            var item = removeItems[i];\n            // remove item from collection\n            utils.removeFrom( this.filteredItems, item );\n        }\n    };\n\n    proto.shuffle = function() {\n        // update random sortData\n        for ( var i=0; i < this.items.length; i++ ) {\n            var item = this.items[i];\n            item.sortData.random = Math.random();\n        }\n        this.options.sortBy = 'random';\n        this._sort();\n        this._layout();\n    };\n\n    /**\n     * trigger fn without transition\n     * kind of hacky to have this in the first place\n     * @param {Function} fn\n     * @param {Array} args\n     * @returns ret\n     * @private\n     */\n    proto._noTransition = function( fn, args ) {\n        // save transitionDuration before disabling\n        var transitionDuration = this.options.transitionDuration;\n        // disable transition\n        this.options.transitionDuration = 0;\n        // do it\n        var returnValue = fn.apply( this, args );\n        // re-enable transition for reveal\n        this.options.transitionDuration = transitionDuration;\n        return returnValue;\n    };\n\n    // ----- helper methods ----- //\n\n    /**\n     * getter method for getting filtered item elements\n     * @returns {Array} elems - collection of item elements\n     */\n    proto.getFilteredItemElements = function() {\n        return this.filteredItems.map( function( item ) {\n            return item.element;\n        });\n    };\n\n    // -----  ----- //\n\n    return Isotope;\n\n}));\n"],"names":["global","factory","window","define","amd","jQuery","module","exports","require","jQueryBridget","arraySlice","Array","prototype","slice","console","logError","message","error","namespace","PluginClass","$","methodCall","$elems","methodName","args","returnValue","pluginMethodStr","each","i","elem","instance","data","method","charAt","value","apply","undefined","plainCall","options","option","_init","opts","isPlainObject","extend","this","fn","arg0","call","arguments","updateJQuery","bridget","EvEmitter","proto","on","eventName","listener","events","_events","listeners","indexOf","push","once","onceEvents","_onceEvents","off","length","index","splice","emitEvent","onceListeners","isOnce","getSize","getStyleSize","num","parseFloat","isNaN","measurements","measurementsLength","getStyle","style","getComputedStyle","isBoxSizeOuter","isSetup","div","document","createElement","width","padding","borderStyle","borderWidth","boxSizing","body","documentElement","appendChild","removeChild","setup","querySelector","_typeof","nodeType","display","size","height","innerWidth","innerHeight","outerWidth","outerHeight","getZeroSize","offsetWidth","offsetHeight","isBorderBox","measurement","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingTop","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","matchesSelector","matchesMethod","ElemProto","Element","matches","prefixes","selector","fizzyUIUtils","utils","a","b","prop","obj","ary","isArray","parentNode","event","type","elems","makeArray","ffElems","forEach","HTMLElement","childElems","querySelectorAll","_class","threshold","timeoutName","timeout","clearTimeout","_this","setTimeout","callback","readyState","addEventListener","str","replace","match","$1","$2","toLowerCase","htmlInit","WidgetClass","docReady","dashedNamespace","toDashed","dataAttr","dataAttrElems","jsDashElems","concat","dataOptionsAttr","attr","getAttribute","JSON","parse","className","Outlayer","Item","docElemStyle","transitionProperty","transition","transformProperty","transform","transitionEndEvent","WebkitTransition","vendorProperties","transitionDuration","transitionDelay","element","layout","position","x","y","_create","Object","create","constructor","_transn","ingProperties","clean","onEnd","css","handleEvent","elemStyle","getPosition","isOriginLeft","_getOption","isOriginTop","xValue","yValue","layoutSize","parseInt","layoutPosition","xPadding","xProperty","xResetProperty","getXValue","yPadding","yProperty","yResetProperty","getYValue","isHorizontal","percentPosition","_transitionTo","curX","curY","compareX","compareY","didNotMove","setPosition","isTransitioning","transX","transY","transitionStyle","getTranslate","to","onTransitionEnd","isCleaning","goTo","moveTo","_nonTransition","_removeStyles","_transition","from","enableTransition","transitionProps","duration","staggerDelay","onwebkitTransitionEnd","ontransitionend","onotransitionend","dashedVendorProperties","target","propertyName","isEmptyObj","disableTransition","removeTransitionStyles","removeEventListener","cleanStyle","cleanTransitionStyle","stagger","delay","removeElem","remove","hide","reveal","isHidden","getHideRevealTransitionEndProperty","onRevealTransitionEnd","hiddenStyle","visibleStyle","styleProperty","optionStyle","opacity","onHideTransitionEnd","destroy","left","right","top","bottom","noop","GUID","instances","queryElement","getQueryElement","$element","defaults","id","outlayerGUID","containerStyle","initLayout","originLeft","originTop","resize","resizeContainer","subclass","Parent","SubClass","oldOption","compatOptions","horizontal","layoutInstant","reloadItems","stamps","stamp","bindResize","items","_itemize","children","itemElems","_filterFindItemElements","item","filterFindElements","itemSelector","getItemElements","map","_resetLayout","_manageStamps","isInstant","_isLayoutInited","layoutItems","_getMeasurement","_getItemsForLayout","_layoutItems","_postLayout","filter","isIgnored","_emitCompleteOnItems","queue","_getItemLayoutPosition","isLayoutInstant","_processLayoutQueue","updateStagger","_positionItem","time","unit","msUnits","getMilliseconds","_getContainerSize","_setContainerMeasure","measure","isWidth","elemSize","Math","max","onComplete","dispatchEvent","count","doneCount","tick","emitArgs","$event","Event","trigger","ignore","getItem","unignore","_find","unstamp","removeFrom","_getBoundingRect","_manageStamp","boundingRect","getBoundingClientRect","_boundingRect","_getElementOffset","thisRect","isResizeBound","unbindResize","onresize","debounceMethod","needsResizeLayout","addItems","appended","prepended","previousItems","revealItemElements","getItems","hideItemElements","removeItems","removeData","Layout","ms","s","Isotope","itemGUID","sortData","updateSortData","random","getSortData","sorters","_sorters","key","sorter","_destroy","LayoutMode","isotope","filteredItems","needsVerticalResizeLayout","getColumnWidth","getSegmentSize","getRowHeight","segment","segmentName","outerSize","firstItemSize","getFirstItemSize","firstItem","modes","Mode","Masonry","fitWidth","measureColumns","colYs","cols","maxY","horizontalColIndex","getContainerWidth","columnWidth","firstItemElem","containerWidth","gutter","excess","container","remainder","colSpan","min","colPosition","horizontalOrder","col","setHeight","setMax","_getTopColPosition","colGroup","_getTopColGroup","minimumY","groupCount","_getColGroupY","groupColYs","_getHorizontalColPosition","hasSize","stampSize","offset","firstX","lastX","firstCol","floor","lastCol","stampMaxY","_getContainerFitWidth","unusedCols","previousWidth","MasonryMode","keepModeMethods","isFitWidth","FitRows","itemWidth","Vertical","horizontalAlignment","trim","String","layoutMode","isJQueryFiltering","sortAscending","name","_getSorters","sortHistory","_initLayoutMode","_updateItemsSortData","initialOpts","_layout","arrange","_getIsInstant","filtered","_filter","_bindArrangeComplete","_isInstant","_noTransition","_hideReveal","_sort","needReveal","needHide","isLayoutComplete","isHideComplete","isRevealComplete","arrangeParallelCallback","hiddenMatched","visibleUnmatched","test","_getFilterTest","isMatched","is","mungeSorter","len","split","query","attrMatch","getValue","child","textContent","getValueGetter","parser","sortDataParsers","val","sortBy","sortBys","_getIsSameSortBy","itemSorter","sortAsc","itemA","itemB","getItemSorter","sort","_mode","mode","Error","_filterRevealAdded","insert","filteredInsertItems","_remove","shuffle","getFilteredItemElements"],"mappings":"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"}