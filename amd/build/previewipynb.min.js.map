{"version":3,"file":"previewipynb.min.js","sources":["../src/previewipynb.js"],"sourcesContent":["define(['jquery',\n    'mod_openstudio/ansi_up',\n    'mod_openstudio/marked',\n    'mod_openstudio/es5-shim',\n    'mod_openstudio/notebook',\n    'mod_openstudio/prism'], function($, ansiup, marked, es5shim, nb, prism) {\n    var t;\n    t = {\n        /**\n         * Preview the ipynb file content when we view the files.\n         */\n        init: function() {\n            var root = this;\n            var renderOneTime = false;\n            var wrapper = $('#openstudio-content-previewipynb');\n            if (wrapper.length > 0) {\n                t.renderView(wrapper, root);\n            }\n\n            $('#openstudio_content_view_maximize').on('click', function() {\n                var wrapper = $('.openstudio-modal-content-body #openstudio-content-previewipynb');\n                if (wrapper.length > 0) {\n                    if (!renderOneTime) {\n                        t.renderView(wrapper, root);\n                    }\n                    renderOneTime = true;\n                }\n            });\n        },\n\n        /**\n         * Render view for ipynb content.\n         *\n         * @param {Element} wrapper\n         * @param {Element} root\n         */\n        renderView: function(wrapper, root) {\n            var notebook = root.notebook = nb.parse(JSON.parse(wrapper.text()));\n            wrapper.html(notebook.render());\n            prism.highlightAll();\n            wrapper.show();\n        }\n    };\n    return t;\n});\n"],"names":["define","$","ansiup","marked","es5shim","nb","prism","t","init","root","this","renderOneTime","wrapper","length","renderView","on","notebook","parse","JSON","text","html","render","highlightAll","show"],"mappings":"AAAAA,qCAAO,CAAC,SACJ,yBACA,wBACA,0BACA,0BACA,yBAAyB,SAASC,EAAGC,OAAQC,OAAQC,QAASC,GAAIC,WAC9DC,SACJA,EAAI,CAIAC,KAAM,eACEC,KAAOC,KACPC,eAAgB,EAChBC,QAAUX,EAAE,oCACZW,QAAQC,OAAS,GACjBN,EAAEO,WAAWF,QAASH,MAG1BR,EAAE,qCAAqCc,GAAG,SAAS,eAC3CH,QAAUX,EAAE,mEACZW,QAAQC,OAAS,IACZF,eACDJ,EAAEO,WAAWF,QAASH,MAE1BE,eAAgB,OAW5BG,WAAY,SAASF,QAASH,UACtBO,SAAWP,KAAKO,SAAWX,GAAGY,MAAMC,KAAKD,MAAML,QAAQO,SAC3DP,QAAQQ,KAAKJ,SAASK,UACtBf,MAAMgB,eACNV,QAAQW"}