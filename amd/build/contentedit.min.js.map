{"version":3,"file":"contentedit.min.js","sources":["../src/contentedit.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * JavaScript to allow editing content.\n *\n * @package\n * @copyright 2017 The Open University\n * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n/**\n * @module mod_oucontent/contentedit\n */\n\ndefine(['jquery', 'mod_openstudio/scrollto'], function ($, Scrollto) {\n    var t;\n\n    t = {\n\n        init: function () {\n            $.fx.off = true;\n\n            $('#id_openstudio_upload_content_buttons_addfilebutton').on('click', t.toogleAddFile);\n            $('#id_openstudio_upload_content_buttons_addlinkbutton').on('click', t.toogleAddLink);\n        },\n\n        /**\n         * Height from DOMElement to top browser.\n         */\n        HEIGHT_TO_TOP: 38,\n\n        /**\n         * Toogle Add File button.\n         *\n         * @param {Event} event\n         * @method toogleAddFile\n         */\n        toogleAddFile: function (event) {\n            event.preventDefault();\n\n            $('#openstudio_upload_content_add_file').toggle(function () {\n                t.showAddFile(false);\n            });\n        },\n\n        showAddFile: function (force) {\n            $('#openstudio_upload_content_add_link').hide();\n\n            if (force) {\n                $('#openstudio_upload_content_add_file').show();\n            }\n\n            if ($('#openstudio_upload_content_add_file').is(':visible')) {\n                $('#contentformoptionalmetadata').show();\n                $('input[name=\"contentuploadtype\"]').val('addfile');\n\n                $('#id_openstudio_upload_content_buttons_addlinkbutton').removeClass('openstudio-button-active');\n                $('#id_openstudio_upload_content_buttons_addfilebutton').addClass('openstudio-button-active');\n\n                Scrollto.scrollToEl($('#id_openstudio_upload_content_buttons_addfilebutton'), t.HEIGHT_TO_TOP);\n            } else {\n                $('#contentformoptionalmetadata').hide();\n                $('input[name=\"contentuploadtype\"]').val('');\n\n                $('#id_openstudio_upload_content_buttons_addfilebutton').removeClass('openstudio-button-active');\n            }\n        },\n\n        /**\n         * Toogle Add Link button.\n         *\n         * @param {Event} event\n         * @method toogleAddLink\n         */\n        toogleAddLink: function (event) {\n            event.preventDefault();\n\n            $('#openstudio_upload_content_add_link').toggle(function () {\n                $('#openstudio_upload_content_add_file').hide();\n\n                if ($(this).is(':visible')) {\n                    $('#contentformoptionalmetadata').show();\n                    $('input[name=\"contentuploadtype\"]').val('addlink');\n\n                    $('#id_openstudio_upload_content_buttons_addfilebutton').removeClass('openstudio-button-active');\n                    $('#id_openstudio_upload_content_buttons_addlinkbutton').addClass('openstudio-button-active');\n\n                    Scrollto.scrollToEl($('#id_openstudio_upload_content_buttons_addlinkbutton'), t.HEIGHT_TO_TOP);\n                } else {\n                    $('#contentformoptionalmetadata').hide();\n                    $('input[name=\"contentuploadtype\"]').val('');\n                    $('#id_openstudio_upload_content_buttons_addlinkbutton').removeClass('openstudio-button-active');\n                }\n            });\n        }\n    };\n\n    return t;\n\n});\n"],"names":["define","$","Scrollto","t","init","fx","off","on","toogleAddFile","toogleAddLink","HEIGHT_TO_TOP","event","preventDefault","toggle","showAddFile","force","hide","show","is","val","removeClass","addClass","scrollToEl","this"],"mappings":";;;;;;;AA2BAA,oCAAO,CAAC,SAAU,4BAA4B,SAAUC,EAAGC,cACnDC,SAEJA,EAAI,CAEAC,KAAM,WACFH,EAAEI,GAAGC,KAAM,EAEXL,EAAE,uDAAuDM,GAAG,QAASJ,EAAEK,eACvEP,EAAE,uDAAuDM,GAAG,QAASJ,EAAEM,gBAM3EC,cAAe,GAQfF,cAAe,SAAUG,OACrBA,MAAMC,iBAENX,EAAE,uCAAuCY,QAAO,WAC5CV,EAAEW,aAAY,OAItBA,YAAa,SAAUC,OACnBd,EAAE,uCAAuCe,OAErCD,OACAd,EAAE,uCAAuCgB,OAGzChB,EAAE,uCAAuCiB,GAAG,aAC5CjB,EAAE,gCAAgCgB,OAClChB,EAAE,mCAAmCkB,IAAI,WAEzClB,EAAE,uDAAuDmB,YAAY,4BACrEnB,EAAE,uDAAuDoB,SAAS,4BAElEnB,SAASoB,WAAWrB,EAAE,uDAAwDE,EAAEO,iBAEhFT,EAAE,gCAAgCe,OAClCf,EAAE,mCAAmCkB,IAAI,IAEzClB,EAAE,uDAAuDmB,YAAY,8BAU7EX,cAAe,SAAUE,OACrBA,MAAMC,iBAENX,EAAE,uCAAuCY,QAAO,WAC5CZ,EAAE,uCAAuCe,OAErCf,EAAEsB,MAAML,GAAG,aACXjB,EAAE,gCAAgCgB,OAClChB,EAAE,mCAAmCkB,IAAI,WAEzClB,EAAE,uDAAuDmB,YAAY,4BACrEnB,EAAE,uDAAuDoB,SAAS,4BAElEnB,SAASoB,WAAWrB,EAAE,uDAAwDE,EAAEO,iBAEhFT,EAAE,gCAAgCe,OAClCf,EAAE,mCAAmCkB,IAAI,IACzClB,EAAE,uDAAuDmB,YAAY"}