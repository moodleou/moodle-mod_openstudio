{"version":3,"file":"viewhelper.min.js","sources":["../src/viewhelper.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * JavaScript to manage on view page.\n *\n * @package\n * @copyright 2017 The Open University\n * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n/**\n * @module mod_openstudio/viewhelper\n */\n\ndefine(['jquery', 'js/isotope.pkgd.min.js', 'core/utils'], function($, Isotope, Utils) {\n    var t;\n\n    t = {\n\n        /**\n         * Isotope instance.\n         * There are more than a grid in a page\n         */\n        isotope: [],\n\n        /**\n         * Module config. Passed from server side.\n         * {\n         *     searchtext: string\n         * }\n         */\n        mconfig: null,\n\n        /**\n         * List out all of css selector used in this module.\n         */\n        CSS: {\n            SEARCHBOX: '#oustudyplan-query'\n        },\n\n        /**\n         * Element selectors.\n         */\n        SELECTOR: {\n            FILTER_CONTAINER: '#filter_container',\n            FILTER_FORM: '#openstudio-filter-form',\n            SELECT_FROM: '#openstudio-filter-select-from',\n            AREA_ALL: '#filter_block_0',\n            AREA_ACTIVITIES_ID: '#filter_block_2',\n            AREA_INPUT: '#openstudio-filter-select-from .openstudio-filter-area-input',\n            BLOCK_ITEM: '#openstudio-filter-select-from .openstudio-filter-block',\n            ACTIVITY_ITEM: '#openstudio-filter-select-from .openstudio-filter-block-activity',\n            FILTER_SORT_BY: '.openstudio_filter_sort_by',\n            FILTER_QUICK_SELECT: '.openstudio_filter_quick_select',\n            FILTER_LINK: '.openstudio-filter-link a',\n        },\n\n        /**\n         * Default config.\n         */\n        CONFIG: {\n            searchtext: '',\n            hasselectfrom: false,\n            hasfilterform: false,\n        },\n\n        /**\n         * Initialise this module.\n         *\n         * @param {JSON} options  The settings for this feature.\n         */\n        init: function(options) {\n            t.mconfig = options || t.CONFIG;\n\n            t.handleFilter();\n            t.handleIsotope();\n            t.handleGroupSwitcher();\n            t.handleViewSizeSwitcher();\n            t.handleBlockSwitcher();\n            t.initSearchForm();\n            t.handleCollapseClick();\n\n            if (t.mconfig.hasOwnProperty('hasselectfrom') && t.mconfig.hasselectfrom === true) {\n                t.handleSelectFrom(t.SELECTOR.SELECT_FROM);\n            }\n            const currentUrl = window.location.href;\n            if (currentUrl.includes('search.php')) {\n                // Select the #filter_pagesize element.\n                const filterPageSize = $('#filter_pagesize');\n\n                // Check if the element exists.\n                if (filterPageSize.length) {\n                    // Add ID to its parent element (for disable parent - viewsize dropdowm).\n                    filterPageSize.parent().attr('id', 'search-filter-pagesize');\n                }\n            }\n        },\n\n        /**\n         * Handle items will be shown via Isotope masonry template.\n         *\n         * @method handleTooltip\n         */\n        handleIsotope: function() {\n            var container = $('.openstudio-grid');\n            container.each(function() {\n                t.isotope[this.id] = new Isotope('#' + this.id, {\n                    layoutMode: 'masonry',\n                    itemSelector: '.openstudio-grid-item',\n                    masonry: {\n                        columnWidth: 243,\n                        gutter: 18,\n                        horizontalOrder: true\n                    }\n                });\n            });\n            // Publish isotope for other functions to use.\n            window.isotope = t.isotope;\n\n            // Once all images loaded, try to re-arrange all items.\n            $(window).on('load', function() {\n                t.reArrangeItems();\n            });\n\n            // Add the scroll event listener with debounce.\n            // Using debounce to trigger rearrange of items only after scrolling ends.\n            window.addEventListener('scroll', Utils.debounce(t.reArrangeItems, 200));\n        },\n\n        /**\n         * Re-arrange items\n         *\n         * @method reArrangeItems\n         */\n        reArrangeItems: function() {\n            setTimeout(function() {\n                for (var key in t.isotope) {\n                    if (t.isotope.hasOwnProperty(key)) {\n                        t.isotope[key].layout();\n                    }\n                }\n            }, 1000);\n        },\n\n        /**\n         * Handle when user filter by group.\n         *\n         * @method handleGroupSwitcher\n         */\n        handleGroupSwitcher: function() {\n            // This should work for mobile also.\n            $(document).on('change', '#filter_groupid', function() {\n                let selectedValue = $(this).val();\n                let currentUrl = window.location.href;\n\n                if (currentUrl.includes('search.php')) {\n                    if (currentUrl.includes('groupid=')) {\n                        currentUrl = currentUrl.replace(/groupid=\\d+/, `groupid=${selectedValue}`);\n                    } else {\n                        // Append \"groupid\" parameter if it doesn't exist\n                        currentUrl += `&groupid=${selectedValue}`;\n                    }\n\n                    window.location.href = currentUrl;\n                } else {\n                    t.redirectURL();\n                }\n            });\n        },\n\n        /**\n         * Handle when user filter by block.\n         *\n         * @method handleBlockSwitcher\n         */\n        handleBlockSwitcher: function() {\n\n            $(t.SELECTOR.AREA_INPUT).on('click', function() {\n                $(t.SELECTOR.AREA_INPUT).not(this).prop('checked', false);\n            });\n\n            $(t.SELECTOR.AREA_INPUT).on('change', function() {\n                var value = $(this).val();\n                var checked = $(this).is(':checked');\n                var areaActivityValue = $('#filter_area_activity_value').val();\n                var checkBlocks = false;\n\n                if (checked) {\n                    // If we check on activity, then all blocks and activities should be checked all.\n                    if (parseInt(value) === parseInt(areaActivityValue)) {\n                        checkBlocks = true;\n                    }\n                } else {\n                    value = 0;\n                    $(t.SELECTOR.AREA_ALL).prop('checked', true);\n                }\n\n                $(t.SELECTOR.BLOCK_ITEM).prop('checked', checkBlocks);\n                $(t.SELECTOR.ACTIVITY_ITEM).prop('checked', checkBlocks);\n\n                t.updateFilterBlock(value);\n            });\n        },\n\n        /**\n         * Update to the old filter block hidden input + change placeholder.\n         *\n         * @param {Integer} value\n         */\n        updateFilterBlock: function(value) {\n            // Apply to old filter_block.\n            $('#filter_block').val(value);\n\n            // Change the placeholder.\n            $(t.SELECTOR.SELECT_FROM + '-placeholder').html($('#filter_block option:selected').text());\n        },\n\n        /**\n         * Handle when user filter by view number.\n         *\n         * @method handleViewSizeSwitcher\n         */\n        handleViewSizeSwitcher: function() {\n            $(document).on('change', '#filter_pagesize', function() {\n                t.redirectURL();\n            });\n            // This should work for mobile.\n            $(document).on('change', '#filter_pagesize_mobile', function() {\n                t.redirectURL();\n            });\n        },\n\n        /**\n         * Handle redirect URL.\n         *\n         * @method redirectURL\n         */\n        redirectURL: function() {\n            var url = $('#view_sort_action_url').val();\n            var vid = $('#vid').val();\n            var groupidelement = $('#groupid');\n            if (groupidelement.length > 0) {\n                var groupid = groupidelement.val();\n                url = url + '&groupid=' + groupid;\n            }\n            url = url + '&vid=' + vid;\n\n            $('.openstudio-filter-select-box:visible').each(function() {\n                var name = $(this).attr('name');\n                url = url + '&' + name + '=' + $(this).val();\n            });\n\n            window.location.href = url;\n\n        },\n\n        /**\n         * Handle actions for filter.\n         *\n         * @method handleFilter\n         */\n        handleFilter: function() {\n\n            // By post types.\n            $('#openstudio_filter_types_0').on('click', function(e) {\n                var checkbox = $(this);\n\n                // Prevent checkbox from unchecking when clicked.\n                if (!checkbox.is(\":checked\")) {\n                    e.preventDefault();\n                    return false;\n                }\n\n                $('.openstudio-filter-types-checkbox').prop(\"checked\", false);\n                $('#openstudio_filter_types_0').prop(\"checked\", true);\n\n                // Clear quick select.\n                t.updateQuickSelect(null);\n            });\n\n            $('.openstudio-filter-types-checkbox').on(\"click\", function() {\n                var checkbox = $(this);\n\n                if (checkbox.is(\":checked\") && checkbox.attr('id') != \"openstudio_filter_types_0\") {\n                    $('#openstudio_filter_types_0').prop(\"checked\", false);\n                }\n\n                var length = $('[name=\"ftypearray[]\"]:checked').length;\n\n                if (length == 0) {\n                    $('#openstudio_filter_types_0').prop(\"checked\", true);\n                }\n\n                // Clear quick select.\n                t.updateQuickSelect(null);\n            });\n\n\n            // By user flags.\n            $('#openstudio_filter_user_flags_0').on(\"click\", function(e) {\n                var checkbox = $(this);\n\n                // Prevent checkbox from unchecking when clicked.\n                if (!checkbox.is(\":checked\")) {\n                    e.preventDefault();\n                    return false;\n                }\n\n                $('.openstudio-filter-user-flags-checkbox').prop(\"checked\", false);\n                $('#openstudio_filter_user_flags_0').prop(\"checked\", true);\n\n                // Clear quick select.\n                t.updateQuickSelect(null);\n            });\n\n            $('.openstudio-filter-user-flags-checkbox').on(\"click\", function() {\n                var checkbox = $(this);\n\n                if (checkbox.is(\":checked\") && checkbox.attr('id') != \"openstudio_filter_types_0\") {\n                    $('#openstudio_filter_user_flags_0').prop(\"checked\", false);\n                }\n\n                var length = $('[name=\"fflagarray[]\"]:checked').length;\n\n                if (length == 0) {\n                    $('#openstudio_filter_user_flags_0').prop(\"checked\", true);\n                }\n\n                // Clear quick select.\n                t.updateQuickSelect(null);\n            });\n\n            // Select status.\n            $('input[name=\"fstatus\"]').on('change', function() {\n                // Clear quick select.\n                t.updateQuickSelect(null);\n            });\n\n            // By author.\n            $('input[name=\"fscope\"]').on('change', function() {\n                // Clear quick select.\n                t.updateQuickSelect(null);\n            });\n\n            // Reset button.\n            $('#reset_filter_btn').on('click', function() {\n                $('#reset_filter').val(1);\n                $('#filteractive').val(0);\n                const currentUrl = window.location.href;\n                const searchParamsToKeep = ['vid', 'id', 'groupid', 'contextid', 'q'];\n\n                if (currentUrl.includes('search.php')) {\n                    const url = new URL(currentUrl);\n                    const params = new URLSearchParams(url.search);\n\n                    // Filter the search parameters.\n                    for (const param of [...params.keys()]) {\n                        if (!searchParamsToKeep.includes(param)) {\n                            params.delete(param);\n                        }\n                    }\n\n                    params.set('reset', '1');\n\n                    // Update the URL without reloading the page.\n                    window.location.href = `${url.origin}${url.pathname}?${params.toString()}`;\n                } else {\n                    $(t.SELECTOR.FILTER_FORM).submit();\n                }\n\n            });\n\n            // Set Blocks option selected when a block checked.\n            // When do not has any block checked, all option should be selected.\n            $(t.SELECTOR.BLOCK_ITEM).on('click', function() {\n                var checkbox = $(this);\n                var value = $(this).val();\n                var checkActivities = false;\n                var className = '.openstudio-filter-block-' + value + '-activity';\n\n                if (checkbox.is(\":checked\")) {\n                    t.checkAreaInput(t.SELECTOR.AREA_ACTIVITIES_ID, true);\n                    checkActivities = true;\n                }\n\n                $(className).prop(\"checked\", checkActivities);\n\n                var length = $('[name=\"fblockarray[]\"]:checked').length;\n                var lengthActivity = $('[name=\"factivityarray[]\"]:checked').length;\n\n                if (length === 0 && lengthActivity === 0) {\n                    t.checkAreaInput(t.SELECTOR.AREA_ALL, true);\n                }\n            });\n\n            // Set Activities option selected when a activity checked.\n            $(t.SELECTOR.ACTIVITY_ITEM).on('click', function() {\n                var checkbox = $(this);\n                var blockId = $(this).attr('data-block-id');\n                var blockElementId = '#openstudio_filter_block_' + blockId;\n                var className = '.openstudio-filter-block-' + blockId + '-activity';\n                var hasUnchecked = $(className + ':not(:checked)').length;\n\n                if (checkbox.is(\":checked\")) {\n                    t.checkAreaInput(t.SELECTOR.AREA_ACTIVITIES_ID, true);\n                    $(blockElementId).prop(\"checked\", true);\n                }\n\n                // If all activities are all un-checked, then block should be un-checked.\n                if (hasUnchecked === 0) {\n                    $(blockElementId).prop(\"checked\", true);\n                } else {\n                    $(blockElementId).prop(\"checked\", false);\n                }\n\n                var hasCheck = $(t.SELECTOR.ACTIVITY_ITEM + ':checked').length;\n                if (hasCheck === 0) {\n                    t.checkAreaInput(t.SELECTOR.AREA_ALL, true);\n                }\n            });\n\n            $(t.SELECTOR.FILTER_FORM).on('submit', function (event) {\n                const currentUrl = window.location.href;\n                let fblock = '0';\n                let filteractive = '0';\n                let fscope = '1';\n                let fstatus = '0';\n                let ftypearray = [];\n                let fflagarray = [];\n                let fblockarray = [];\n                let factivityarray = [];\n                let quickselect = '0';\n\n                /**\n                 * Updates the URL search parameters for a specified array,\n                 * replacing existing values with the new ones if they differ from the default.\n                 *\n                 * @param {URLSearchParams} searchParams - The URLSearchParams object to modify.\n                 * @param {string} paramName - The name of the parameter to update in the URL.\n                 * @param {Array} currentArray - The current array of values to be set in the URL.\n                 * @param {Array} defaultArray - The default array of values used for comparison.\n                 */\n                function updateArrayParams(searchParams, paramName, currentArray, defaultArray) {\n                    if (JSON.stringify(currentArray) !== JSON.stringify(defaultArray)) {\n                        searchParams.delete(`${paramName}[]`);\n                        currentArray.forEach(value => searchParams.append(`${paramName}[]`, value));\n                    } else {\n                        searchParams.delete(`${paramName}[]`);\n                    }\n                }\n\n                /**\n                 * Retrieves the values of all elements matching a specific class or selector.\n                 *\n                 * @param {string} className - The class or selector to select elements (e.g., '.openstudio-filter-block').\n                 * @returns {Array} An array of values retrieved from the matching elements.\n                 */\n                function getValuesFromHTMLElement(className) {\n                    const result = [];\n                    $(className).each(function () {\n                        result.push($(this).val());\n                    });\n                    return result;\n                }\n\n                if (currentUrl.includes('search.php')) {\n                    const url = new URL(currentUrl);\n                    const searchParams = new URLSearchParams(url.search);\n                    const filterAreaValue = $('.openstudio-filter-area-input:checked').val();\n\n                    switch (filterAreaValue) {\n                        case '1':\n                            fblock = '1';\n                            filteractive = '1';\n                            break;\n                        case '2':\n                            fblock = '2';\n                            filteractive = '1';\n                            fblockarray = getValuesFromHTMLElement(\".openstudio-filter-block:checked\");\n                            factivityarray = getValuesFromHTMLElement(\".openstudio-filter-block-activity:checked\");\n                            break;\n                    }\n\n                    ftypearray = getValuesFromHTMLElement(\".openstudio-filter-types-checkbox:checked\");\n                    fflagarray = getValuesFromHTMLElement(\".openstudio-filter-user-flags-checkbox:checked\");\n                    fscope = $('.openstudio-filter-scope:checked').val() || '1';\n                    fstatus = $('.openstudio-filter-status:checked').val() || '0';\n\n                    const quickSelectVal = $('#openstudio-filter-form input[name=\"quickselect\"]').val();\n                    if (quickSelectVal) {\n                        quickselect = quickSelectVal;\n                    } else {\n                        searchParams.delete('quickselect');\n                    }\n\n                    searchParams.delete('reset');\n\n                    // Update or add parameters.\n                    if (quickselect !== '0') {\n                        searchParams.set('quickselect', quickselect);\n                    } else {\n                        searchParams.delete('quickselect');\n                    }\n\n                    if (fblock !== '0') {\n                        searchParams.set('fblock', fblock);\n                    } else {\n                        searchParams.delete('fblock');\n                    }\n\n                    if (filteractive !== '0') {\n                        searchParams.set('filteractive', filteractive);\n                    } else {\n                        searchParams.delete('filteractive');\n                    }\n\n                    if (fscope !== '1') {\n                        searchParams.set('fscope', fscope);\n                    } else {\n                        searchParams.delete('fscope');\n                    }\n\n                    if (fstatus !== '0') {\n                        searchParams.set('fstatus', fstatus);\n                    } else {\n                        searchParams.delete('fstatus');\n                    }\n\n                    updateArrayParams(searchParams, 'ftypearray', ftypearray, ['0']);\n                    updateArrayParams(searchParams, 'fflagarray', fflagarray, ['0']);\n                    updateArrayParams(searchParams, 'fblockarray', fblockarray, []);\n                    updateArrayParams(searchParams, 'factivityarray', factivityarray, []);\n\n                    // Set 'filteropen' if applicable.\n                    if (JSON.stringify(ftypearray) !== JSON.stringify([])\n                        || JSON.stringify(fflagarray) !== JSON.stringify([])\n                        || fstatus !== '0'\n                        || fscope !== '1') {\n                        searchParams.set('filteropen', '1');\n                    } else {\n                        searchParams.delete('filteropen');\n                    }\n\n                    // Update the URL without reloading the page.\n                    const newUrl = `${url.origin}${url.pathname}?${searchParams.toString()}`;\n                    window.location.href = newUrl;\n\n                    event.preventDefault();\n                } else {\n                    window.location.href = '/view.php#filter';\n                }\n            });\n\n            // Sort by.\n            t.handleSortBy();\n\n            // Handle Quick Select.\n            t.handleQuickSelect();\n        },\n        /**\n         * Handle collapse click for profile bar.\n         *\n         * @method handleCollapseClick\n         */\n        handleCollapseClick: function() {\n            var myprofile = document.querySelector('.openstudio-profile-mypaticipation-content');\n            var fullusername = document.getElementById('openstudio_profile_fullusername');\n            var profilleparticipate =\n                document.querySelector('#openstudio_profile_bar .openstudio-profile-bar-participation-content');\n            var profilleparticipatemobile =\n                document.querySelector('#openstudio_profile_bar_mobile .openstudio-profile-bar-participation-content');\n            var progressbar = document.getElementsByClassName('openstudio-profile-progress-content');\n            var showprofile = null;\n            var showparticipate = null;\n            var body = document.querySelector('body');\n            for (var i = 0; i < progressbar.length; i++) {\n                if (progressbar && progressbar[i] && progressbar[i].clientHeight > 0) {\n                    showprofile = progressbar[i];\n                }\n            }\n            if (body.classList.contains('ios') || body.classList.contains('android')) {\n                showparticipate = profilleparticipatemobile;\n            } else {\n                showparticipate = profilleparticipate;\n            }\n            if (fullusername && showprofile) {\n                var originalmarginTop = showprofile.style.marginTop ? showprofile.style.marginTop : '0px';\n                var originalpaddingTop = showprofile.style.paddingTop ? showprofile.style.paddingTop : '0px';\n                fullusername.addEventListener('click', function() {\n                    var w = window.innerWidth;\n                    if ((w > 767 && w < 1204 && (!body.classList.contains('ios') && !body.classList.contains('android')))\n                        || (w > 767 && w < 940 && (body.classList.contains('ios') || body.classList.contains('android')))) {\n                        if (fullusername.classList.contains('collapsed')) {\n                            setTimeout(function() {\n                                // Two line\n                                if (showparticipate && fullusername.clientHeight > 21) {\n                                    if (myprofile && myprofile.getBoundingClientRect().height >\n                                        showparticipate.getBoundingClientRect().height) {\n                                        if (showprofile.getBoundingClientRect().top > myprofile.getBoundingClientRect().bottom) {\n                                            showprofile.style.marginTop = originalmarginTop + 3 + 'px';\n                                        } else {\n                                            showprofile.style.marginTop = myprofile.getBoundingClientRect().bottom -\n                                                showprofile.getBoundingClientRect().top + 'px';\n                                        }\n                                    } else if (showparticipate) {\n                                        if (showprofile.getBoundingClientRect().top >\n                                            showparticipate.getBoundingClientRect().bottom) {\n                                            showprofile.style.marginTop = originalmarginTop + 3 + 'px';\n                                        } else {\n                                            showprofile.style.marginTop = showparticipate.getBoundingClientRect().bottom -\n                                                showprofile.getBoundingClientRect().top + 'px';\n                                        }\n                                    }\n                                    if (body.classList.contains('ios') || body.classList.contains('android')) {\n                                        showprofile.style.paddingTop = '5px';\n                                    } else {\n                                        showprofile.style.paddingTop = '9px';\n                                    }\n                                }\n\n                            }, 500);\n                        } else {\n                            showprofile.style.paddingTop = originalpaddingTop;\n                            showprofile.style.marginTop = originalmarginTop;\n                        }\n                    }\n                });\n            }\n        },\n\n        /**\n         * Init query string for search form.\n         * Because oustudyplan renderer does not allow us to set value for input while rendering search form.\n         *\n         * @method initSearchForm\n         */\n        initSearchForm: function() {\n            $(t.CSS.SEARCHBOX).val(t.mconfig.searchtext);\n        },\n\n        /**\n         * Handle select from dropdown.\n         *\n         * @param {String} id\n         */\n        handleSelectFrom: function(id) {\n            // Get the placeholder at the begining.\n            var placeholder = $(id + '-placeholder');\n            placeholder.text($('#filter_block option:selected').text());\n\n            // Build select dropdown.\n            var area = $(id);\n            var anchor = $(id + '-anchor');\n            var contentArea = $(id + '-area');\n\n            anchor.on('click', function() {\n                if (contentArea.hasClass('visible')) {\n                    contentArea.removeClass('visible');\n                } else {\n                    contentArea.addClass('visible');\n                }\n            });\n\n            // Support for tab.\n            anchor.on('keydown', function(e) {\n                // Work with Space + Enter.\n                if (e.keyCode === 32 || e.keyCode === 13) {\n                    e.preventDefault();\n                    anchor.trigger('click');\n                }\n            });\n\n            // Handle click outside should close content area.\n            $(window).click(function(e) {\n                var target = $(e.target);\n                var areaHTML = area.get(0);\n                var targetHTML = target.get(0);\n                // If target is on area => skip.\n                // If target is area itself => skip.\n                if ($.contains(areaHTML, targetHTML) || this === areaHTML) {\n                    return;\n                }\n                if (contentArea.hasClass('visible')) {\n                    contentArea.removeClass('visible');\n                }\n            });\n        },\n\n        /**\n         * Check event for area input.\n         *\n         * @param {String} input\n         * @param {Bool} checked\n         */\n        checkAreaInput: function(input, checked = true) {\n            $(input).prop('checked', checked);\n            $(t.SELECTOR.AREA_INPUT).not(input).prop('checked', !checked);\n            t.updateFilterBlock($(input).val());\n        },\n\n        /**\n         * Check if the main filter is expanded.\n         *\n         * @returns {boolean}\n         */\n        isFilterExpanded: function() {\n            return $(t.SELECTOR.FILTER_CONTAINER).hasClass('show');\n        },\n\n        /**\n         * Handle sort by filter.\n         */\n        handleSortBy: function() {\n            $(t.SELECTOR.FILTER_SORT_BY).on('change', function() {\n                let selectedValue = $(this).val();\n                let currentUrl = window.location.href;\n                let url = new URL(currentUrl);\n                let params = new URLSearchParams(url.search);\n\n                if (!selectedValue) {\n                    params.delete('sortby');\n                    url.search = params.toString();\n                    window.location.href = url.toString();\n                    return;\n                }\n\n                if (url.pathname.includes('search.php')) {\n                    // Update or add \"sortby\" parameter.\n                    params.set('sortby', selectedValue);\n                    url.search = params.toString();\n                    window.location.href = url.toString();\n                } else {\n                    // Redirect using t.redirectURL() for other paths.\n                    t.redirectURL();\n                }\n            });\n        },\n\n        /**\n         * Handle Quick Select filter.\n         */\n        handleQuickSelect: function() {\n            $(t.SELECTOR.FILTER_QUICK_SELECT).on('change', function() {\n                var params = $(this).find(':selected').data('params');\n                var value = $(this).val();\n                var isMobile = $(this).data('mobile');\n\n                // If filter is not expand, open it.\n                if (!t.isFilterExpanded() && !isMobile) {\n                    $(t.SELECTOR.FILTER_LINK).trigger('click');\n                }\n\n                if (typeof params !== 'object' || params.length === 0) {\n                    return;\n                }\n\n                // Apply quick select.\n                t.updateQuickSelect(value);\n\n                // Apply post types.\n                if (params.hasOwnProperty('ftypearray')) {\n                    $('[name=\"ftypearray[]\"]').val(params.ftypearray);\n                }\n\n                // Apply user flags.\n                if (params.hasOwnProperty('fflagarray')) {\n                    $('[name=\"fflagarray[]\"]').val(params.fflagarray);\n                }\n\n                // Apply user status.\n                if (params.hasOwnProperty('fstatus')) {\n                    $('[name=\"fstatus\"]').val([params.fstatus]);\n                }\n\n                // Apply scope.\n                if (params.hasOwnProperty('fscope')) {\n                    $('[name=\"fscope\"]').val([params.fscope]);\n                }\n\n                if (isMobile) {\n                    $(t.SELECTOR.FILTER_FORM).submit();\n                }\n            });\n        },\n\n        /**\n         * Update quick select input.\n         *\n         * @param {?Integer} value\n         */\n        updateQuickSelect: function(value = null) {\n            $('[name=\"quickselect\"]').val(value);\n        }\n    };\n\n    return t;\n\n});\n"],"names":["define","$","Isotope","Utils","t","isotope","mconfig","CSS","SEARCHBOX","SELECTOR","FILTER_CONTAINER","FILTER_FORM","SELECT_FROM","AREA_ALL","AREA_ACTIVITIES_ID","AREA_INPUT","BLOCK_ITEM","ACTIVITY_ITEM","FILTER_SORT_BY","FILTER_QUICK_SELECT","FILTER_LINK","CONFIG","searchtext","hasselectfrom","hasfilterform","init","options","handleFilter","handleIsotope","handleGroupSwitcher","handleViewSizeSwitcher","handleBlockSwitcher","initSearchForm","handleCollapseClick","hasOwnProperty","handleSelectFrom","window","location","href","includes","filterPageSize","length","parent","attr","each","this","id","layoutMode","itemSelector","masonry","columnWidth","gutter","horizontalOrder","on","reArrangeItems","addEventListener","debounce","setTimeout","key","layout","document","selectedValue","val","currentUrl","replace","redirectURL","not","prop","value","checked","is","areaActivityValue","checkBlocks","parseInt","updateFilterBlock","html","text","url","vid","groupidelement","groupid","name","e","preventDefault","updateQuickSelect","checkbox","searchParamsToKeep","URL","params","URLSearchParams","search","param","keys","delete","set","origin","pathname","toString","submit","checkActivities","className","checkAreaInput","lengthActivity","blockId","blockElementId","hasUnchecked","event","fblock","filteractive","fscope","fstatus","ftypearray","fflagarray","fblockarray","factivityarray","quickselect","updateArrayParams","searchParams","paramName","currentArray","defaultArray","JSON","stringify","forEach","append","getValuesFromHTMLElement","result","push","quickSelectVal","newUrl","handleSortBy","handleQuickSelect","myprofile","querySelector","fullusername","getElementById","profilleparticipate","profilleparticipatemobile","progressbar","getElementsByClassName","showprofile","showparticipate","body","i","clientHeight","classList","contains","originalmarginTop","style","marginTop","originalpaddingTop","paddingTop","w","innerWidth","getBoundingClientRect","height","top","bottom","area","anchor","contentArea","hasClass","removeClass","addClass","keyCode","trigger","click","target","areaHTML","get","targetHTML","input","isFilterExpanded","find","data","isMobile"],"mappings":"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"}