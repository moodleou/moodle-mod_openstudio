{"version":3,"file":"contentpage.min.js","sources":["../src/contentpage.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\r\n//\r\n// Moodle is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// Moodle is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU General Public License\r\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n/**\r\n * JavaScript to manage content detail page.\r\n *\r\n * @package mod_oucontent\r\n * @copyright 2017 The Open University\r\n * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n */\r\n\r\n/**\r\n * @module mod_oucontent/contentpage\r\n */\r\ndefine(['jquery', 'core/ajax', 'core/str', 'core/modal', 'core/modal_events', 'core/templates', 'core/config', 'require'],\r\n    function($, Ajax, Str, Modal, ModalEvents, Templates, Config, require) {\r\n        var t;\r\n\r\n        t = {\r\n\r\n            /**\r\n             * M.core.dialog instance\r\n             */\r\n            dialogue: null,\r\n\r\n            delete_item: null,\r\n\r\n            /**\r\n             * Module config. Passed from server side.\r\n             */\r\n            mconfig: null,\r\n\r\n            init: function(options) {\r\n                $.fx.off = true;\r\n\r\n                t.mconfig = options;\r\n\r\n                Y.use('moodle-core-notification-dialogue', function() {\r\n                    require(['mod_openstudio/osdialogue'], function(osDialogue){\r\n                        t.archiveDialogue = t.createArchiveDialogue(osDialogue);\r\n                        t.deleteContentDialogue = t.createDeleteContentDialogue(osDialogue);\r\n                    });\r\n                });\r\n\r\n                // Maximize feature.\r\n                t.createMaximizeModal();\r\n                $('#openstudio_content_view_maximize').on('click', t.toogleContentModal);\r\n                $('body').delegate('#openstudio_content_view_minimize', 'click', t.toogleContentModal);\r\n                $('body').delegate('.openstudio-modal-content-close', 'click', t.toogleContentModal);\r\n\r\n                var contentViewMapCanvas = $('#openstudio_content_view_map_canvas');\r\n\r\n                if (contentViewMapCanvas.length) {\r\n                    t.showGoogleMap(contentViewMapCanvas);\r\n                }\r\n\r\n                // Click event on archive button.\r\n                $('#id_archivebutton').on('click', function(e) {\r\n                    e.preventDefault();\r\n                    t.archiveDialogue.show();\r\n                });\r\n\r\n                // Click event on delete button.\r\n                $('.openstudio-delete-content-version').on('click', function(e) {\r\n                    e.preventDefault();\r\n                    t.delete_item = $(this);\r\n                    t.deleteContentDialogue.show();\r\n                });\r\n\r\n                $(\".openstudio-content-view-flag-icon\").bind('click', function() {\r\n                    t.doFlagContent($(this));\r\n                });\r\n\r\n                $(\".openstudio-request-feedback-button\").bind('click', function() {\r\n                    t.doFlagContent($(this));\r\n                });\r\n        },\r\n\r\n        /**\r\n         * Create modal to display content inside it when click maximize button.\r\n         *\r\n         * @method createMaximizeModal\r\n         */\r\n        createMaximizeModal: function() {\r\n            Templates\r\n                .render('mod_openstudio/content_modal', {\r\n                    title: $('.openstudio-content-view-title').text(),\r\n                    body: $('.openstudio-content-view-file').html(),\r\n                    date: $('.openstudio-content-view-date').html(),\r\n                    isiframecontent: $('.openstudio-content-view-file').find('iframe').length > 0\r\n                })\r\n                .done(function(html) {\r\n                    t.modal = new Modal(html);\r\n                    t.modal.setLarge();\r\n                });\r\n\r\n        },\r\n\r\n        /**\r\n         * Toggle content modal\r\n         *\r\n         * @method toogleContentModal\r\n         */\r\n        toogleContentModal: function() {\r\n            if (!t.modal) {\r\n              return;\r\n            }\r\n\r\n            if (t.modal.isVisible()) {\r\n                t.modal.hide();\r\n            } else {\r\n                t.modal.show();\r\n\r\n                // Auto scroll to close button when open content model.\r\n                t.modal.getRoot().on(ModalEvents.shown, function(e) {\r\n                    if (e.type === 'modal:shown')          {\r\n                         $('.openstudio-modal-content-close')[0].scrollIntoView();\r\n                    }\r\n                    $('.openstudio-modal-content-close, #openstudio_content_view_minimize').keydown(function (e) {\r\n                        if (e.keyCode == 13) {\r\n                            t.modal.hide();\r\n                            $('#openstudio_content_view_maximize').focus();\r\n\r\n                            return false;\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n\r\n            // Lock page scroll.\r\n            $('body').toggleClass('openstudio-lockscroll');\r\n        },\r\n\r\n        /**\r\n         * Show Google map if user requested it and it is available.\r\n         *\r\n         * @param {Event} contentViewMapCanvas\r\n         * @method showGoogleMap\r\n         */\r\n        showGoogleMap: function(contentViewMapCanvas) {\r\n            var gpslat = contentViewMapCanvas.attr('data-gpslat');\r\n            var gpslng = contentViewMapCanvas.attr('data-gpslng');\r\n\r\n            if (gpslat && gpslng) {\r\n                var myLatLng = {lat: parseFloat(gpslat), lng: parseFloat(gpslng)};\r\n                if (typeof google !== 'undefined' && typeof google.maps !== 'undefined') {\r\n                    var map = new google.maps.Map(document.getElementById('openstudio_content_view_map_canvas'), {\r\n                        center: myLatLng,\r\n                        zoom: 14\r\n                    });\r\n\r\n                    new google.maps.Marker({\r\n                        position: myLatLng,\r\n                        map: map\r\n                    });\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Flag icons on content page.\r\n         *\r\n         * @param {Event} event\r\n         * @method doFlagContent\r\n         */\r\n        doFlagContent: function(event) {\r\n            var promises = Ajax.call([{\r\n                methodname: 'mod_openstudio_external_flag_content',\r\n                args: {\r\n                    cmid: event.attr('data-cmid'),\r\n                    cid: event.attr('data-cid'),\r\n                    fid: event.attr('data-fid'),\r\n                    mode: event.attr('data-mode')\r\n                }\r\n            }]);\r\n\r\n            promises[0]\r\n                .done(function(res) {\r\n                    if (res.success) {\r\n                        // Update new flag content.\r\n                        var flagcontainer = $('#content_view_icon_' + res.fid);\r\n                        flagcontainer.attr('data-mode', res.mode);\r\n\r\n                        // Check if flag a request feedback.\r\n                        if (res.iscontentflagrequestfeedback) {\r\n                            flagcontainer.html(res.flagtext);\r\n                            $('#openstudio_item_request_feedback')\r\n                                .removeClass(res.flagremoveclass)\r\n                                .addClass(res.flagaddclass);\r\n                        } else {\r\n                            flagcontainer.find('.openstudio-content-view-icon-text').text(res.flagtext);\r\n                            flagcontainer.toggleClass('openstudio-content-view-icon-active', res.mode == 'off');\r\n                            flagcontainer.attr('title', res.accessiblemessage);\r\n                        }\r\n                    }\r\n                })\r\n                .fail(function(ex) {\r\n                    window.console.error('Error saving social flag ' + ex.message);\r\n                });\r\n        },\r\n\r\n        /**\r\n         * Set header for dialog\r\n         * @method setHeader\r\n         */\r\n        setHeader: function(dialogue, label) {\r\n            Str\r\n                .get_string(label, 'mod_openstudio')\r\n                .done(function(s) {\r\n                    dialogue.set('headerContent',\r\n                        '<span class=\"openstudio-dialogue-common-header\">' + s + '</span>');\r\n                });\r\n        },\r\n\r\n        /**\r\n         * Set body for dialog\r\n         * @method setBody\r\n         */\r\n        setBody: function(dialogue, label) {\r\n            Str\r\n                .get_string(label, 'mod_openstudio')\r\n                .done(function(s) {\r\n                    dialogue.set('bodyContent',\r\n                        '<span>' + s + '</span>');\r\n                });\r\n        },\r\n\r\n        /**\r\n         * Create archive dialogue and some events on it.\r\n         *\r\n         * @return M.core.dialog instance\r\n         * @method createArchiveDialogue\r\n         * @return M.core.dialogue\r\n         */\r\n        createArchiveDialogue: function(osDialogue) {\r\n            var dialogue = new osDialogue({\r\n                closeButton: true,\r\n                visible: false,\r\n                centered: true,\r\n                responsive: true,\r\n                responsiveWidth: 767,\r\n                modal: true,\r\n                focusOnPreviousTargetAfterHide: true,\r\n                width: 521\r\n            });\r\n\r\n\r\n            t.setHeader(dialogue, 'archivedialogheader');\r\n            t.setBody(dialogue, 'modulejsdialogcontentarchiveconfirm');\r\n\r\n            // Button [Archive]\r\n            var archiveBtnProperty = {\r\n                name: 'archive',\r\n                classNames: 'openstudio-archive-yes-btn',\r\n                events: {\r\n                    click: function() {\r\n                        t.redirectPostRequest({\r\n                            url: $('#contentversionlink').val(),\r\n                            data: {\r\n                                archiveversion: 1,\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            };\r\n\r\n            // Button [cancel]\r\n            var cancelBtnProperty = {\r\n                name: 'cancel',\r\n                classNames: 'openstudio-archive-no-btn',\r\n                action: 'hide'\r\n            };\r\n\r\n            Str\r\n                .get_strings([\r\n                    {key: 'contentactionarchivepost', component: 'mod_openstudio'},\r\n                    {key: 'modulejsdialogcancel', component: 'mod_openstudio'}\r\n                ])\r\n                .done(function(s) {\r\n                    archiveBtnProperty.label = s[0];\r\n                    cancelBtnProperty.label = s[1];\r\n\r\n                    dialogue.addButton(archiveBtnProperty, ['footer']);\r\n                    dialogue.addButton(cancelBtnProperty, ['footer']);\r\n                });\r\n\r\n            return dialogue;\r\n        },\r\n\r\n        /**\r\n         * Create delete content dialogue and some events on it.\r\n         *\r\n         * @return M.core.dialog instance\r\n         * @method createDeleteContentDialogue\r\n         * @return M.core.dialogue\r\n         */\r\n        createDeleteContentDialogue: function(osDialogue) {\r\n            var dialogue = new osDialogue({\r\n                closeButton: true,\r\n                visible: false,\r\n                centered: true,\r\n                responsive: true,\r\n                responsiveWidth: 767,\r\n                modal: true,\r\n                focusOnPreviousTargetAfterHide: true,\r\n                width: 521\r\n            });\r\n\r\n            t.setHeader(dialogue, 'deletearchiveversionheader');\r\n            t.setBody(dialogue, 'deletearchiveversionheaderconfirm');\r\n\r\n            // Button [delete]\r\n            var deleteBtnProperty = {\r\n                name: 'delete',\r\n                classNames: 'openstudio-delete-btn',\r\n                events: {\r\n                    click: function() {\r\n                        var delete_item = t.delete_item;\r\n                        var promises = Ajax.call([{\r\n                            methodname: 'mod_openstudio_external_delete_version',\r\n                            args: {\r\n                                cmid: delete_item.attr('data-cmid'),\r\n                                cid: delete_item.attr('data-cid'),\r\n                                cvid: delete_item.attr('data-cvid')\r\n                            }\r\n                        }]);\r\n\r\n                        promises[0]\r\n                            .done(function() {\r\n                                $('.openstudio-cancel-btn').trigger('click');\r\n\r\n                                // Redirect to current version content when delete from view version detail.\r\n                                if ($('#contentcurrenteversionurl').length > 0) {\r\n                                    window.location.href = $('#contentcurrenteversionurl').val();\r\n                                } else {\r\n                                    // Remove from post type list.\r\n                                    $('#content_version_id_' + delete_item.attr('data-cvid')).remove();\r\n\r\n                                    // Check if do not has any post archive we will remove Archive panel.\r\n                                    if ($('.openstudio-content-view-version-detail').length == 0) {\r\n                                        $('#openstudio_content_view_post_archive_panel').remove();\r\n                                    }\r\n                                }\r\n                            })\r\n                            .fail(function(ex) {\r\n                                window.console.error('Error delete content version' + ex.message);\r\n                            });\r\n                    }\r\n                }\r\n            };\r\n\r\n            // Button [cancel]\r\n            var cancelBtnProperty = {\r\n                name: 'cancel',\r\n                classNames: 'openstudio-cancel-btn',\r\n                action: 'hide'\r\n            };\r\n\r\n            Str\r\n                .get_strings([\r\n                    {key: 'modulejsdialogdelete', component: 'mod_openstudio'},\r\n                    {key: 'modulejsdialogcancel', component: 'mod_openstudio'}\r\n                ])\r\n                .done(function(s) {\r\n                    deleteBtnProperty.label = s[0];\r\n                    cancelBtnProperty.label = s[1];\r\n\r\n                    dialogue.addButton(deleteBtnProperty, ['footer']);\r\n                    dialogue.addButton(cancelBtnProperty, ['footer']);\r\n                });\r\n\r\n            return dialogue;\r\n        },\r\n\r\n        /**\r\n         * Redirect to url with post method.\r\n         * @method redirectPostRequest\r\n         * @param {JSON} options Request data\r\n         */\r\n        redirectPostRequest: function(options) {\r\n            var form = $('<form></form>');\r\n            form.attr({\r\n                'method': 'POST',\r\n                'action': options.url,\r\n                'style': 'display: none;'\r\n            });\r\n\r\n            $.each(options.data, function(key, value) {\r\n                var field = $('<input/>');\r\n                field.attr(\"type\", \"hidden\");\r\n                field.attr(\"name\", key);\r\n                field.attr(\"value\", value);\r\n\r\n                form.append(field);\r\n            });\r\n\r\n            $(form).appendTo('body').submit();\r\n        }\r\n    };\r\n\r\n    return t;\r\n\r\n});\r\n"],"names":["define","$","Ajax","Str","Modal","ModalEvents","Templates","Config","require","t","dialogue","delete_item","mconfig","init","options","fx","off","Y","use","osDialogue","archiveDialogue","createArchiveDialogue","deleteContentDialogue","createDeleteContentDialogue","createMaximizeModal","on","toogleContentModal","delegate","contentViewMapCanvas","length","showGoogleMap","e","preventDefault","show","this","bind","doFlagContent","render","title","text","body","html","date","isiframecontent","find","done","modal","setLarge","isVisible","hide","getRoot","shown","type","scrollIntoView","keydown","keyCode","focus","toggleClass","gpslat","attr","gpslng","myLatLng","lat","parseFloat","lng","google","maps","map","Map","document","getElementById","center","zoom","Marker","position","event","call","methodname","args","cmid","cid","fid","mode","res","success","flagcontainer","iscontentflagrequestfeedback","flagtext","removeClass","flagremoveclass","addClass","flagaddclass","accessiblemessage","fail","ex","window","console","error","message","setHeader","label","get_string","s","set","setBody","closeButton","visible","centered","responsive","responsiveWidth","focusOnPreviousTargetAfterHide","width","archiveBtnProperty","name","classNames","events","click","redirectPostRequest","url","val","data","archiveversion","cancelBtnProperty","action","get_strings","key","component","addButton","deleteBtnProperty","cvid","trigger","location","href","remove","form","each","value","field","append","appendTo","submit"],"mappings":"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"}