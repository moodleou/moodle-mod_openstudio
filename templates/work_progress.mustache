{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template mod_openstudio/work_progress

    Progress template of the OpenStudio.

    Classes required for JS:
    * none

    Data attributes required for JS:
    * none


    Example context (json):
    {
        "percentcompleted" : 80
    }

}}
<div class="openstudio-work-progress-container">
    <div class="openstudio-progressbar">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:mydata="http://ns.open.ac.uk/it/vle/osep"
             width="80%" height="22px" id="{{$progressbarid}}openstudio-progressbar{{/progressbarid}}-{{id}}" preserveAspectRatio="none"
             role="img" title"">
            <defs>
                <clipPath id="{{$clipid}}openstudio-progressbar-clip{{/clipid}}-{{id}}">
                    <rect x="3" y="3" width="100%" height="16" rx="5" ry="5" stroke="blue"
                          style="stroke-width:1;stroke:#d4d2d2"></rect>
                </clipPath>
                <linearGradient id="{{$completeid}}openstudio-progressbar-complete{{/completeid}}-{{id}}" x1="0" y1="0" x2="0" y2="1">
                    <stop offset="0%" class="openstudio-greycolour"></stop>
                    <stop offset="60%" class="openstudio-completecolour"></stop>
                </linearGradient>
            </defs>
            <g clip-path="url(#{{$clipid}}openstudio-progressbar-clip{{/clipid}}-{{id}})" class="openstudio-incompletefill">
                <g>
                    <rect class="openstudio-incompletefill" x="3" y="3" width="100%" height="16"></rect>
                </g>
                <g>
                    <rect x="3" y="3" width="{{percentcompleted}}%" height="16" id="{{$completeid}}openstudio-progressbar-complete-rect{{/completeid}}-{{id}}"
                          fill="url(#{{$completeid}}openstudio-progressbar-complete{{/completeid}}-{{id}})"></rect>
                </g>
            </g>
        </svg>
        <div class="openstudio-work-progress-percent"><span class="accesshide">{{#str}}contentflagprogress, openstudio{{/str}}:</span>{{percentcompleted}}%</div>
        <div class="openstudio-work-progress">
            <div class="openstudio-work-progress-item">&nbsp;</div>
            <div class="openstudio-work-progress-item">&nbsp;</div>
            <div class="openstudio-work-progress-item">&nbsp;</div>
            <div class="openstudio-work-progress-item">&nbsp;</div>
        </div>
    </div>
</div>
